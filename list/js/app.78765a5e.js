(function(e){function t(t){for(var i,a,c=t[0],s=t[1],l=t[2],d=0,f=[];d<c.length;d++)a=c[d],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(e[i]=s[i]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,l||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],i=!0,c=1;c<n.length;c++){var s=n[c];0!==o[s]&&(i=!1)}i&&(r.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},o={app:0},r=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=t,c=c.slice();for(var l=0;l<c.length;l++)t(c[l]);var u=s;r.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"465a":function(e,t,n){"use strict";var i=n("d231"),o=n.n(i);o.a},"56d7":function(e,t,n){"use strict";n.r(t);n("744f"),n("6c7b"),n("7514"),n("20d6"),n("1c4c"),n("6762"),n("cadf"),n("e804"),n("55dd"),n("d04f"),n("c8ce"),n("217b"),n("7f7f"),n("f400"),n("7f25"),n("536b"),n("d9ab"),n("f9ab"),n("32d7"),n("25c9"),n("9f3c"),n("042e"),n("c7c6"),n("f4ff"),n("049f"),n("7872"),n("a69f"),n("0b21"),n("6c1a"),n("c7c62"),n("84b4"),n("c5f6"),n("2e37"),n("fca0"),n("7cdf"),n("ee1d"),n("b1b1"),n("87f3"),n("9278"),n("5df2"),n("04ff"),n("f751"),n("4504"),n("fee7"),n("ffc1"),n("0d6d"),n("9986"),n("8e6e"),n("25db"),n("e4f7"),n("b9a1"),n("64d5"),n("9aea"),n("db97"),n("66c8"),n("57f0"),n("165b"),n("456d"),n("cf6a"),n("fd24"),n("8615"),n("551c"),n("097d"),n("df1b"),n("2397"),n("88ca"),n("ba16"),n("d185"),n("ebde"),n("2d34"),n("f6b3"),n("2251"),n("c698"),n("a19f"),n("9253"),n("9275"),n("3b2b"),n("3846"),n("4917"),n("a481"),n("28a5"),n("386d"),n("6b54"),n("4f7f"),n("8a81"),n("ac4d"),n("8449"),n("9c86"),n("fa83"),n("48c0"),n("a032"),n("aef6"),n("d263"),n("6c37"),n("9ec8"),n("5695"),n("2fdb"),n("d0b0"),n("5df3"),n("b54a"),n("f576"),n("ed50"),n("788d"),n("14b9"),n("f386"),n("f559"),n("1448"),n("673e"),n("242a"),n("c66f"),n("b05c"),n("34ef"),n("6aa2"),n("15ac"),n("af56"),n("b6e4"),n("9c29"),n("63d9"),n("4dda"),n("10ad"),n("c02b"),n("4795"),n("130f"),n("ac6a"),n("96cf");var i=n("9483");Object(i["a"])("".concat("","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});n("455b");var o=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("div",{attrs:{id:"root"}},[n("v-app-bar",{attrs:{id:"toolbar",fixed:""}},[n("v-toolbar-title",[e._v("Shopping List")]),n("div",{staticClass:"flex-grow-1"}),e.shopping?[n("v-btn",{attrs:{color:"primary",icon:""},on:{click:function(t){return e.toggleShopping()}}},[n("v-icon",[e._v("shopping_cart")])],1),n("v-btn",{attrs:{icon:"",disabled:null==e.items.find(function(e){return e.checked})},on:{click:function(t){return e.finishShopping()}}},[n("v-icon",[e._v("delete_sweep")])],1)]:[n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.toggleShopping()}}},[n("v-icon",[e._v("add_shopping_cart")])],1),n("v-btn",{attrs:{icon:""},on:{click:function(t){return e.startAdd()}}},[n("v-icon",[e._v("add")])],1)]],2),n("div",{attrs:{id:"toolbar-spacer"}}),n("v-list",[e.shopping?e._l(e.sortedItems,function(t){return n("v-list-item",{key:t.value,on:{delete:function(n){return e.remove(t)},click:function(n){return e.toggleCheck(t)}}},[n("v-list-item-icon",{staticClass:"my-0 mr-4 align-self-center"},[t.checked?n("v-icon",[e._v("check_box")]):n("v-icon",[e._v("check_box_outline_blank")])],1),n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.value))])],1)],1)}):e._l(e.sortedItems,function(t){return n("swipe-item",{key:t.value,on:{delete:function(n){return e.remove(t)}}},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t.value))])],1)],1)})],2),n("v-dialog",{attrs:{"max-width":"30em"},model:{value:e.adding,callback:function(t){e.adding=t},expression:"adding"}},[n("v-card",{ref:"popup"},[n("v-card-title",[e._v("Add a new item")]),n("v-card-text",{staticClass:"pb-0"},[n("v-text-field",{model:{value:e.addValue,callback:function(t){e.addValue=t},expression:"addValue"}})],1),n("v-list",{attrs:{id:"suggestions"}},e._l(e.suggestions,function(t){return n("v-list-item",{key:t,on:{click:function(n){e.addValue=t}}},[n("v-list-item-content",[n("v-list-item-title",[e._v(e._s(t))])],1)],1)}),1),n("v-card-actions",[n("v-btn",{attrs:{text:""},on:{click:function(t){e.adding=!1,e.addValue=""}}},[e._v("Cancel")]),n("div",{ref:"buttonPadding",staticClass:"flex-grow-1"}),n("v-btn",{attrs:{color:"primary",disabled:!e.isValidAdd(e.addValue)},on:{click:function(t){return e.add()}}},[e._v("Submit")])],1)],1)],1)],1)])},a=[],c=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"swiper-container error",class:{active:e.active,error:e.active},style:e.rootStyle},[n("div",{staticClass:"swiper-wrapper"},[n("div",{staticClass:"swiper-slide endcap pa-3 d-flex justify-end align-center"},[n("v-icon",{staticClass:"white--text"},[e._v("delete")])],1),n("v-list-item",{staticClass:"list-item swiper-slide",class:{active:e.active,"elevation-2":e.active}},[e._t("default")],2),n("div",{staticClass:"swiper-slide endcap pa-3 d-flex justify-start align-center"},[n("v-icon",{staticClass:"white--text"},[e._v("delete")])],1)],1)])},s=[],l=n("41d6"),u=n("5118"),d={data:function(){return{height:null,active:!1,rootStyle:{height:"auto",transition:""}}},mounted:function(){var e=this;this.swiper=new l["a"](this.$el,{initialSlide:1,resistanceRatio:0,speed:150}),this.swiper.on("progress",function(t){e.active=.5!=t}),this.swiper.on("transitionEnd",function(t){if(1!=e.swiper.activeIndex){var n=e.$el.getBoundingClientRect();e.rootStyle.height=n.height+"px",e.rootStyle.transition="height 180ms ease-out",Object(u["setTimeout"])(function(){e.rootStyle.height="0",Object(u["setTimeout"])(function(){e.$emit("delete")},180)},1)}})},destroy:function(){this.swiper.desotry()}},f=d,v=(n("6f8e"),n("2877")),p=Object(v["a"])(f,c,s,!1,null,"42a84d2e",null),m=p.exports,h={name:"home",components:{SwipeItem:m},data:function(){return{adding:!1,addValue:""}},computed:{items:function(e){return e.$store.state.items},memory:function(e){return e.$store.state.memory},shopping:function(e){return e.$store.state.shopping},suggestions:function(){var e=this,t=this.memory.slice();return t.sort(function(e,t){return t.count!=e.count?t.count-e.count:e.value.localeCompare(t.value)}).filter(function(t){return!!e.isValidAdd(t.value)&&!(e.addValue&&!t.value.toLowerCase().includes(e.addValue.toLowerCase()))}).map(function(e){return e.value})},sortedItems:function(){var e=this,t=this.items.slice();return t.sort(function(t,n){return t.checked!=n.checked&&e.shopping?t.checked?1:-1:t.value.localeCompare(n.value)})}},methods:{toggleShopping:function(){this.$store.commit("SET_SHOPPING",!this.shopping),window.scrollTo(0,0)},toggleCheck:function(e){e.checked?this.$store.commit("UNCHECK_ITEM",e.value):this.$store.commit("CHECK_ITEM",e.value)},finishShopping:function(){this.$store.commit("PURCHASE_CHECKED_ITEMS"),this.toggleShopping()},startAdd:function(){this.adding=!0},isValidAdd:function(e){return""!=e.trim()&&!this.items.find(function(t){return t.value.toLowerCase()==e.toLowerCase()})},add:function(){this.$store.commit("ADD_ITEM",this.addValue),this.addValue="",this.adding=!1},remove:function(e){this.$store.commit("REMOVE_ITEM",e.value)}}},g=h,b=(n("5c0b"),n("465a"),Object(v["a"])(g,r,a,!1,null,"3b2e9a30",null)),w=b.exports,_=n("2f62");o["default"].use(_["a"]);var y=new _["a"].Store({state:{items:[],memory:[],shopping:!1},mutations:{ASSIGN:function(e,t){Object.assign(e,t)},ADD_ITEM:function(e,t){var n=e.items.findIndex(function(e){return e.value==t});if(n>=0)throw new Error("Item already exists");var i={value:t,checked:!1};for(n=0;n<e.items.length;++n)if(t.localeCompare(e.items[n].value)<1)return void e.items.splice(n,0,i);e.items.push(i)},REMOVE_ITEM:function(e,t){var n=e.items.findIndex(function(e){return e.value==t});if(n<0)throw new Error("Item does not exist");e.items.splice(n,1)},CHECK_ITEM:function(e,t){var n=e.items.find(function(e){return e.value==t});if(null==n)throw new Error("Item does not exist");n.checked=!0},UNCHECK_ITEM:function(e,t){var n=e.items.find(function(e){return e.value==t});if(null==n)throw new Error("Item does not exist");n.checked=!1},SET_SHOPPING:function(e,t){e.shopping=t},PURCHASE_CHECKED_ITEMS:function(e){for(var t=function(t){if(e.items[t].checked){var n=e.memory.find(function(n){return n.value==e.items[t].value});n||e.memory.push(n={value:e.items[t].value,count:0}),n.count+=1,e.items.splice(t,1)}},n=e.items.length-1;n>=0;--n)t(n)}},actions:{}}),S=n("ce5b"),k=n.n(S);n("bf40");o["default"].use(k.a);var C,E=new k.a({icons:{iconfont:"md"}}),x=["items","memory"];C="mfro.me"==location.hostname?"wss://api.mfro.me/list/":"ws://localhost:8081/";var I=new WebSocket(C);I.addEventListener("open",function(){y.subscribe(function(e,t){if("ASSIGN"!=e.type){for(var n={},i=0,o=x;i<o.length;i++){var r=o[i];r in t&&(n[r]=t[r])}I.send(JSON.stringify({op:"state",arg:n}))}})}),I.addEventListener("message",function(e){var t=JSON.parse(e.data);if("state"==t.op){for(var n={},i=0,o=x;i<o.length;i++){var r=o[i];r in t.arg&&(n[r]=t.arg[r])}y.commit("ASSIGN",n)}});var O=["shopping"],j="shopping-list.state",T=localStorage.getItem(j);null!=T&&y.commit("ASSIGN",JSON.parse(T)),y.subscribe(function(e,t){for(var n={},i=0,o=O;i<o.length;i++){var r=o[i];r in t&&(n[r]=t[r])}localStorage.setItem(j,JSON.stringify(n))}),o["default"].config.productionTip=!1,new o["default"]({store:y,vuetify:E,render:function(e){return e(w)}}).$mount("#app")},"5c0b":function(e,t,n){"use strict";var i=n("e332"),o=n.n(i);o.a},"63c1":function(e,t,n){},"6f8e":function(e,t,n){"use strict";var i=n("63c1"),o=n.n(i);o.a},d231:function(e,t,n){},e332:function(e,t,n){}});
//# sourceMappingURL=app.78765a5e.js.map