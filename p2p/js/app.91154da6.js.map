{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/p2p/secure.ts","webpack:///./src/p2p/common/pipe.ts","webpack:///./src/p2p/common/event.ts","webpack:///../node_modules/buffer-es6/base64.js","webpack:///../node_modules/buffer-es6/ieee754.js","webpack:///../node_modules/buffer-es6/isArray.js","webpack:///../node_modules/buffer-es6/index.js","webpack:///../node_modules/safe-buffer/index.js","webpack:///../node_modules/base-x/src/index.js","webpack:///../node_modules/varint/encode.js","webpack:///../node_modules/varint/decode.js","webpack:///../node_modules/varint/length.js","webpack:///../node_modules/varint/index.js","webpack:///../src/code.ts","webpack:///../src/ident.ts","webpack:///./src/App.vue?763a","webpack:///./src/p2p/rtc.ts","webpack:///./src/views/Home.vue?ef4e","webpack:///src/views/Home.vue","webpack:///./src/p2p/common/index.ts","webpack:///./src/App.vue?1a27","webpack:///./src/views/Home.vue?ae6c","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","stream","nonce","a","crypto","subtle","importKey","cryptoKey","blockSize","current","Buffer","alloc","counter","process","index","encrypt","concat","from","size","Math","min","secure","base","initiator","algorithm","namedCurve","remote","receive","remotePublicRaw","Error","remotePublic","JSON","parse","toString","generateKey","keyPair","exportKey","publicKey","localPublic","localPublicRaw","stringify","send","public","privateKey","deriveBits","ecdh","hkdf","hash","salt","info","bits","keys","nonces","Promise","all","map","streams","reverse","cipher","plain","authenticate","self","other","local","bytes","sign","decode","incoming","fromPublicKey","remoteKey","verify","identity","valid","pipe","complete","read","write","resolve","event","listeners","Set","make","listen","callback","add","delete","emit","listener","wait","done","until","undefined","this","emitter","wrap","target","on","addEventListener","off","removeEventListener","lookup","revLookup","Arr","Uint8Array","Array","inited","init","code","len","charCodeAt","toByteArray","b64","tmp","placeHolders","arr","L","tripletToBase64","num","encodeChunk","uint8","start","end","output","join","fromByteArray","extraBytes","parts","maxChunkLength","len2","buffer","offset","isLE","mLen","nBytes","e","eLen","eMax","eBias","nBits","NaN","Infinity","pow","rt","abs","isNaN","floor","log","LN2","isArray","INSPECT_MAX_BYTES","TYPED_ARRAY_SUPPORT","global","_kMaxLength","kMaxLength","createBuffer","that","RangeError","__proto__","arg","encodingOrOffset","allocUnsafe","TypeError","ArrayBuffer","fromArrayBuffer","fromString","fromObject","assertSize","fill","encoding","checked","string","isEncoding","byteLength","actual","fromArrayLike","array","byteOffset","obj","internalIsBuffer","copy","isnan","type","SlowBuffer","b","_isBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","val","dir","arrayIndexOf","indexOf","lastIndexOf","indexSize","arrLength","valLength","String","buf","readUInt16BE","foundIndex","found","hexWrite","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","base64.fromByteArray","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","decodeCodePointsArray","poolSize","_augment","allocUnsafeSlow","isBuffer","compare","x","y","list","pos","swap16","swap32","swap64","arguments","equals","inspect","str","max","match","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","MAX_ARGUMENTS_LENGTH","codePoints","fromCharCode","ret","out","toHex","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754.write","writeDouble","newBuf","subarray","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","ieee754.read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","INVALID_BASE64_RE","base64clean","stringtrim","replace","trim","units","leadSurrogate","byteArray","hi","lo","base64.toByteArray","src","dst","isFastBuffer","isSlowBuffer","constructor","copyProps","SafeBuffer","_Buffer","require$$0","ALPHABET","BASE_MAP","charAt","xc","BASE","LEADER","FACTOR","iFACTOR","encode","source","zeroes","pbegin","pend","b58","carry","it1","it2","repeat","decodeUnsafe","psz","b256","it3","it4","vch","MSB","REST","MSBALL","INT","oldOffset","N1","N2","N3","N4","N5","N6","N7","N8","N9","require$$1","encodingLength","require$$2","base62","Encoder","ceil","log2","block","reserve","raw","varint","uint","Decoder","consumed","count","split","storage_prefix","private_storage_key","key_usages","key_params","sign_params","Ident","publicKeyData","signature","endorsement","digest","ident","FullIdent","json","private","include","pair","fromKeyPair","localStorage","getItem","import","exists","generate","export","setItem","ConnectInfo","config","iceServers","urls","rtc","args","socket","WebSocket","host","protcols","ready","message","msg","makeChannelSink","close","makeChannelSource","pack","desc","candidates","sdp","ice","candidate","zip","deflate","level","unpack","inflate","sdpMid","sdpMLineIndex","dialer","makeChannel","prepareLocal","conn","setLocalDescription","reject","prepareRemote","offer","setRemoteDescription","addIceCandidate","dial","RTCPeerConnection","createDataChannel","createOffer","answer","accept","createAnswer","channel","sendInput","connectInput","localName","remoteName","state","messages","methods","class","text","_vm","_h","$createElement","_c","_self","attrs","staticRenderFns","staticClass","_v","_s","directives","rawName","expression","domProps","$event","keyCode","connect","composing","_e","_l","component","components","Home","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.91154da6.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { Channel } from './common';\nimport { FullIdent, Ident, base62, Encoder, Decoder } from 'web-ident';\n\nasync function stream(key: Buffer, nonce: Buffer) {\n    let cryptoKey = await crypto.subtle.importKey('raw', key, {\n        name: 'AES-CTR',\n        length: key.length * 8,\n    }, false, ['encrypt']);\n\n    let blockSize = 16;\n    let current = Buffer.alloc(0);\n    let counter = Buffer.alloc(blockSize - nonce.length);\n\n    return {\n        async process(data: Buffer) {\n            let index = 0;\n            let result = Buffer.alloc(data.length);\n            while (index < data.length) {\n                if (current.length == 0) {\n                    current = Buffer.from(await crypto.subtle.encrypt({\n                        name: 'AES-CTR',\n                        counter: Buffer.concat([nonce, counter]),\n                        length: blockSize * 8,\n                    }, cryptoKey, Buffer.alloc(blockSize)));\n\n                    for (let i = counter.length - 1; i >= 0; --i)\n                        if (++counter[i] != 0)\n                            break;\n                }\n\n                let size = Math.min(current.length, data.length - index);\n                for (let i = 0; i < size; ++i) {\n                    result[index + i] = data[index + i] ^ current[i];\n                }\n\n                index += size;\n                current = current.slice(size);\n            }\n\n            return result;\n        },\n    };\n}\n\nexport async function secure(base: Channel, initiator: boolean): Promise<Channel> {\n    const algorithm = {\n        name: 'ECDH',\n        namedCurve: 'P-521',\n    };\n\n    let remote = (async () => {\n        let remotePublicRaw = await base.receive();\n        if (remotePublicRaw == null) throw new Error('handshake failure');\n\n        let remotePublic = JSON.parse(remotePublicRaw.toString()) as JsonWebKey;\n        return await crypto.subtle.importKey('jwk', remotePublic, algorithm, false, []);\n    })();\n\n    let keyPair = await crypto.subtle.generateKey(algorithm, false, ['deriveBits']);\n\n    let localPublic = await crypto.subtle.exportKey('jwk', keyPair.publicKey);\n    let localPublicRaw = Buffer.from(JSON.stringify(localPublic));\n    base.send(localPublicRaw);\n\n    let ecdh = await crypto.subtle.deriveBits({\n        name: 'ECDH',\n        public: await remote,\n    }, keyPair.privateKey, 528);\n\n    let hkdf = await crypto.subtle.importKey('raw', ecdh, { name: 'HKDF' } as any, false, ['deriveBits']);\n\n    let result = await crypto.subtle.deriveBits({\n        name: 'HKDF',\n        hash: 'SHA-512',\n        salt: Buffer.alloc(0),\n        info: Buffer.alloc(0),\n    } as any, hkdf, (256 + 64) * 2);\n\n    let bits = Buffer.from(result);\n\n    let keys = [bits.slice(0, 32), bits.slice(40, 72)];\n    let nonces = [bits.slice(32, 40), bits.slice(72, 80)];\n\n    let streams = await Promise.all(keys.map((key, i) => stream(key, nonces[i])));\n    if (!initiator) streams = streams.reverse();\n\n    return {\n        async send(data) {\n            if (data == null) {\n                base.send(null);\n                return;\n            }\n\n            let cipher = await streams[0].process(data);\n            base.send(cipher);\n        },\n\n        async receive() {\n            let data = await base.receive();\n            if (data == null) return null;\n\n            let plain = await streams[1].process(data);\n            return plain;\n        },\n    };\n}\n\nexport async function authenticate(base: Channel, self: FullIdent, other: string) {\n    let receive = base.receive();\n\n    let local = new Encoder();\n    local.bytes(self.publicKey);\n    local.bytes(await self.sign(base62.decode(other)));\n    base.send(local.result);\n\n    let incoming = await receive;\n    if (incoming == null) throw new Error('handshake failure');\n\n    let remote = new Decoder(incoming);\n    let remoteKey = await Ident.fromPublicKey(remote.bytes());\n    let valid = await remoteKey.verify(self.identity, remote.bytes());\n    if (!valid == null) throw new Error('handshake failure');\n\n    return base;\n}\n","import { Sink, Source } from './types';\n\nexport default pipe;\n\nfunction pipe<T = never>(): [Sink<T>, Source<T>] {\n    // let complete = false;\n    // let read: ((data: T | null) => void)[] = [];\n    // let write: (T | null)[] = [];\n\n    // function flush() {\n    //     while (write.length > 0 && read.length > 0) {\n    //         let value = write.shift()!;\n    //         let callback = read.shift()!;\n    //         callback(value);\n    //     }\n\n    //     if (complete) {\n    //         for (let callback of read) {\n    //             callback(null);\n    //         }\n    //     }\n    // }\n\n    let complete = false;\n    let read: ((value: T | null) => void) | null = null;\n    let write: T | null = null;\n\n    return [\n        (data) => {\n            if (complete) throw new Error('complete');\n            if (write) throw new Error('overflow');\n\n            if (data == null)\n                complete = true;\n\n            if (read) {\n                read(data);\n                read = null;\n            } else {\n                write = data;\n            }\n        },\n\n        () => new Promise((resolve) => {\n            if (complete) resolve(null);\n            if (read) throw new Error('overflow');\n\n            if (write) {\n                resolve(write);\n                write = null;\n            } else {\n                read = resolve;\n            }\n        }),\n    ]\n}\n","export default event;\n\ninterface base<T> {\n    listen(callback: (value: T) => void): () => void;\n}\n\ninterface event<T> extends base<T> {\n    wait(): Promise<T>;\n    until<TResult>(callback: (value: T) => TResult | undefined): Promise<TResult>;\n    until<TResult>(callback: (value: T) => Promise<TResult | undefined>): Promise<TResult>;\n}\n\nfunction event<T = never>(): event.emitter<T> {\n    let listeners = new Set<(value: T) => void>();\n\n    return {\n        event: event.make({\n            listen(callback: any) {\n                listeners.add(callback);\n                return () => listeners.delete(callback);\n            },\n        }),\n\n        emit(value?: any) {\n            for (let listener of listeners) {\n                listener(value);\n            }\n        },\n    };\n}\n\nnamespace event {\n    export function make<T>(base: base<T>) {\n        return {\n            ...base,\n\n            wait() {\n                return new Promise<any>((resolve) => {\n                    let done = this.listen(value => {\n                        done();\n                        resolve(value);\n                    });\n                });\n            },\n\n            until(callback: any) {\n                return new Promise<any>((resolve) => {\n                    let done = this.listen(async value => {\n                        let result = await callback(value);\n                        if (result !== undefined) {\n                            done();\n                            resolve(result);\n                        }\n                    });\n                });\n            },\n        };\n    }\n\n    export interface emitter<T> {\n        event: event<T>;\n\n        emit(value: T): void;\n        emit(this: emitter<never>): void;\n    }\n\n    export function emitter<T>(base: emitter<T>) {\n        return base;\n    }\n\n    interface EmitterA<K, R> {\n        on(key: K, callback: (result: R) => void): void;\n        off(key: K, callback: (result: R) => void): void;\n    }\n\n    interface EmitterB<K, R> {\n        addEventListener(key: K, callback: (result: R) => void): void;\n        removeEventListener(key: K, callback: (result: R) => void): void;\n    }\n\n    export function wrap<R, K extends string, T extends EmitterA<K, R> | EmitterB<K, R>>(target: T, key: K): event<R> {\n        let t = target as any;\n        let on = t.on || t.addEventListener;\n        let off = t.off || t.removeEventListener;\n\n        return event.make({\n            listen(callback: any) {\n                on.apply(t, [key, callback]);\n                return () => off.apply(t, [key, callback]);\n            },\n        });\n    }\n}\n","\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\nexport function toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nexport function fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","\nexport function read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexport function write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nexport default Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\nimport * as base64 from './base64'\nimport * as ieee754 from './ieee754'\nimport isArray from './isArray'\n\nexport var INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength()\nexport {_kMaxLength as kMaxLength};\nfunction typedArraySupport () {\n  return true;\n  // rollup issues\n  // try {\n  //   var arr = new Uint8Array(1)\n  //   arr.__proto__ = {\n  //     __proto__: Uint8Array.prototype,\n  //     foo: function () { return 42 }\n  //   }\n  //   return arr.foo() === 42 && // typed array instances can be augmented\n  //       typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n  //       arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  // } catch (e) {\n  //   return false\n  // }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nexport function Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    // Object.defineProperty(Buffer, Symbol.species, {\n    //   value: null,\n    //   configurable: true\n    // })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nexport function SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nexport function isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","'use strict'\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n// @ts-ignore\nvar _Buffer = require('safe-buffer').Buffer\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256)\n  BASE_MAP.fill(255)\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i)\n    var xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  var BASE = ALPHABET.length\n  var LEADER = ALPHABET.charAt(0)\n  var FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (!_Buffer.isBuffer(source)) { throw new TypeError('Expected Buffer') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0\n    var length = 0\n    var pbegin = 0\n    var pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    var b58 = new Uint8Array(size)\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin]\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return _Buffer.alloc(0) }\n    var psz = 0\n        // Skip leading spaces.\n    if (source[psz] === ' ') { return }\n        // Skip and count leading '1's.\n    var zeroes = 0\n    var length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size)\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)]\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n        // Skip trailing spaces.\n    if (source[psz] === ' ') { return }\n        // Skip leading zeroes in b256.\n    var it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    var vch = _Buffer.allocUnsafe(zeroes + (size - it4))\n    vch.fill(0x00, 0, zeroes)\n    var j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nmodule.exports = base\n","module.exports = encode\n\nvar MSB = 0x80\n  , REST = 0x7F\n  , MSBALL = ~REST\n  , INT = Math.pow(2, 31)\n\nfunction encode(num, out, offset) {\n  out = out || []\n  offset = offset || 0\n  var oldOffset = offset\n\n  while(num >= INT) {\n    out[offset++] = (num & 0xFF) | MSB\n    num /= 128\n  }\n  while(num & MSBALL) {\n    out[offset++] = (num & 0xFF) | MSB\n    num >>>= 7\n  }\n  out[offset] = num | 0\n  \n  encode.bytes = offset - oldOffset + 1\n  \n  return out\n}\n","module.exports = read\n\nvar MSB = 0x80\n  , REST = 0x7F\n\nfunction read(buf, offset) {\n  var res    = 0\n    , offset = offset || 0\n    , shift  = 0\n    , counter = offset\n    , b\n    , l = buf.length\n\n  do {\n    if (counter >= l) {\n      read.bytes = 0\n      throw new RangeError('Could not decode varint')\n    }\n    b = buf[counter++]\n    res += shift < 28\n      ? (b & REST) << shift\n      : (b & REST) * Math.pow(2, shift)\n    shift += 7\n  } while (b >= MSB)\n\n  read.bytes = counter - offset\n\n  return res\n}\n","\nvar N1 = Math.pow(2,  7)\nvar N2 = Math.pow(2, 14)\nvar N3 = Math.pow(2, 21)\nvar N4 = Math.pow(2, 28)\nvar N5 = Math.pow(2, 35)\nvar N6 = Math.pow(2, 42)\nvar N7 = Math.pow(2, 49)\nvar N8 = Math.pow(2, 56)\nvar N9 = Math.pow(2, 63)\n\nmodule.exports = function (value) {\n  return (\n    value < N1 ? 1\n  : value < N2 ? 2\n  : value < N3 ? 3\n  : value < N4 ? 4\n  : value < N5 ? 5\n  : value < N6 ? 6\n  : value < N7 ? 7\n  : value < N8 ? 8\n  : value < N9 ? 9\n  :              10\n  )\n}\n","module.exports = {\n    encode: require('./encode.js')\n  , decode: require('./decode.js')\n  , encodingLength: require('./length.js')\n}\n","import base from 'base-x';\nimport varint from 'varint';\n\nexport const base62 = base('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789');\n\nexport class Encoder {\n    private data = Buffer.alloc(256);\n    length = 0;\n\n    private reserve(add: number) {\n        let index = this.length;\n\n        this.length += add;\n        if (this.length > this.data.length) {\n            let size = Math.pow(2, Math.ceil(Math.log2(this.length)));\n            let data = Buffer.alloc(size);\n            this.data.copy(data, 0, 0);\n            this.data = data;\n        }\n\n        return index;\n    }\n\n    get result() {\n        return this.data.slice(0, this.length);\n    }\n\n    private raw(block: Buffer) {\n        let index = this.reserve(block.length);\n        block.copy(this.data, index);\n    }\n\n    include(other: Encoder) {\n        this.raw(other.result);\n    }\n\n    uint(val: number) {\n        let index = this.reserve(varint.encodingLength(val));\n        varint.encode(val, this.data, index);\n    }\n\n    bytes(val: Buffer) {\n        this.uint(val.length);\n        this.raw(val);\n    }\n\n    string(val: string, encoding = 'utf8') {\n        this.bytes(Buffer.from(val, encoding as any));\n    }\n}\n\nexport class Decoder {\n    consumed: Buffer;\n    remaining: Buffer;\n\n    constructor(\n        private readonly data: Buffer,\n    ) {\n        this.consumed = data.slice(0, 0);\n        this.remaining = data.slice(0);\n    }\n\n    private shift(count: number) {\n        let split = this.consumed.length + count;\n        this.consumed = this.data.slice(0, split);\n        this.remaining = this.data.slice(split);\n    }\n\n    uint(): number {\n        let value = varint.decode(this.remaining);\n        this.shift(varint.decode.bytes);\n        return value;\n    }\n\n    bytes(): Buffer {\n        let length = this.uint();\n        let data = this.remaining.slice(0, length);\n        this.shift(length);\n        return data;\n    }\n\n    string(encoding = 'utf8'): string {\n        return this.bytes().toString(encoding);\n    }\n}\n\n// const formatter = {\n//     header(obj: any, config: any) {\n//         if (obj instanceof Encoder) {\n//             return [\"span\", {}, 'encoder'];\n//         }\n\n//         if (obj instanceof Decoder) {\n//             return [\"span\", {}, 'decoder'];\n//         }\n\n//         return null;\n//     },\n//     hasBody(obj: any, config: any) {\n//         return false;\n//     },\n//     body(obj: any, config: any) {\n//     }\n// };\n\n// let x = window as any;\n// if (x.devtoolsFormatters == null) x.devtoolsFormatters = [];\n// x.devtoolsFormatters.push(formatter);\n","import { Encoder, Decoder, base62 } from './code';\n\nconst storage_prefix = 'web-ident';\nconst private_storage_key = storage_prefix + '.private-key';\n\nconst key_usages: string[] = ['sign', 'verify'];\nconst key_params: EcKeyGenParams = {\n    name: 'ECDSA',\n    namedCurve: 'P-521',\n};\n\nconst sign_params: EcdsaParams = {\n    name: 'ECDSA',\n    hash: 'SHA-512',\n};\n\nexport class Ident {\n    static async fromPublicKey(publicKey: Buffer) {\n        let key = await crypto.subtle.importKey('raw', publicKey, key_params, true, ['verify']);\n        let ident = Buffer.from(await crypto.subtle.digest('SHA-256', publicKey));\n        return new Ident(key, publicKey, ident);\n    }\n\n    protected constructor(\n        protected readonly publicKeyData: CryptoKey,\n        readonly publicKey: Buffer,\n        readonly identity: Buffer,\n    ) { }\n\n    get name() {\n        return base62.encode(this.identity);\n    }\n\n    async verify(data: Buffer | Uint8Array, signature: Buffer) {\n        return await crypto.subtle.verify(sign_params, this.publicKeyData, signature, data);\n    }\n\n    async validate(endorsement: Buffer) {\n        let src = new Decoder(endorsement);\n        let signature = src.bytes();\n        if (!await this.verify(src.remaining, signature))\n            return null;\n\n        return src;\n    }\n}\n\nexport class FullIdent extends Ident {\n    static async generate() {\n        let pair = await crypto.subtle.generateKey(key_params, true, key_usages) as CryptoKeyPair;\n        return await this.fromKeyPair(pair);\n    }\n\n    static async fromKeyPair(pair: CryptoKeyPair) {\n        let publicKey = Buffer.from(await crypto.subtle.exportKey('raw', pair.publicKey));\n        let identity = Buffer.from(await crypto.subtle.digest('SHA-256', publicKey));\n        return new FullIdent(pair.privateKey, pair.publicKey, publicKey, identity);\n    }\n\n    static async import(raw: string) {\n        let json = JSON.parse(Buffer.from(raw, 'base64').toString('utf8'));\n        let [a, b] = await Promise.all([\n            crypto.subtle.importKey('jwk', json.public, key_params, true, ['verify']),\n            crypto.subtle.importKey('jwk', json.private, key_params, true, ['sign']),\n        ]);\n\n        return this.fromKeyPair({\n            publicKey: a,\n            privateKey: b,\n        });\n    }\n\n    private constructor(\n        private readonly privateKey: CryptoKey,\n        publicKeyData: CryptoKey,\n        publicKey: Buffer,\n        identity: Buffer,\n    ) {\n        super(publicKeyData, publicKey, identity);\n    }\n\n    async export() {\n        let [a, b] = await Promise.all([\n            crypto.subtle.exportKey('jwk', this.publicKeyData),\n            crypto.subtle.exportKey('jwk', this.privateKey),\n        ]);\n\n        let json = { public: a, private: b };\n        let data = Buffer.from(JSON.stringify(json));\n        return data.toString('base64');\n    }\n\n    async sign(data: Buffer | Uint8Array) {\n        return Buffer.from(await crypto.subtle.sign(sign_params, this.privateKey, data));\n    }\n\n    async endorse(data: Encoder) {\n        let endorsement = new Encoder();\n        endorsement.bytes(await this.sign(data.result));\n        endorsement.include(data);\n        return endorsement.result;\n    }\n}\n\nexport async function self() {\n    let key = localStorage.getItem(private_storage_key);\n    if (key == null) return null;\n\n    let self = await FullIdent.import(key);\n    return self;\n}\n\nexport function exists() {\n    let key = localStorage.getItem(private_storage_key);\n    return key != null;\n}\n\nasync function test() {\n    let self = await FullIdent.generate();\n    let server = await FullIdent.generate();\n\n    let request = new Encoder();\n    request.string(self.name);\n    request.string('associate');\n    request.string('email');\n    request.string('mfroehli@umich.edu');\n\n    let endorsement = await server.endorse(request);\n\n    let serverPub = await Ident.fromPublicKey(server.publicKey);\n\n    let check = await serverPub.validate(endorsement);\n    if (check == null) throw new Error('Invalid');\n\n    console.log('Endorsement:');\n    console.log(check.string());\n    console.log(check.string());\n    console.log(check.string());\n    console.log(check.string());\n}\n\nexport async function generate() {\n    let self = await FullIdent.generate();\n    localStorage.setItem(private_storage_key, await self.export());\n    return true;\n}\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import pako from 'pako';\nimport { FullIdent, Ident, Encoder, Decoder, base62 } from 'web-ident';\nimport { event, pipe, Dialer, Sink, Source, Channel } from './common';\n\nconst config = {\n    iceServers: [\n        { urls: 'stun:stun.l.google.com:19302' },\n        { urls: 'stun:stun1.l.google.com:19302' },\n        { urls: 'stun:stun2.l.google.com:19302' },\n        { urls: 'stun:stun3.l.google.com:19302' },\n        { urls: 'stun:stun4.l.google.com:19302' },\n    ],\n};\n\nnamespace ConnectInfo {\n    export function pack(desc: RTCSessionDescriptionInit, candidates: RTCIceCandidate[]) {\n        let pack = new Encoder();\n        pack.string(desc.type);\n        pack.string(desc.sdp || \"\");\n        pack.uint(candidates.length);\n        for (let ice of candidates)\n            pack.string(ice.candidate);\n\n        let zip = Buffer.from(pako.deflate(pack.result, { level: 9 }));\n        return base62.encode(zip);\n    }\n\n    export function unpack(raw: string): [RTCSessionDescriptionInit, RTCIceCandidateInit[]] {\n        let zip = base62.decode(raw);\n        let pack = new Decoder(Buffer.from(pako.inflate(zip)));\n\n        let init = {\n            type: pack.string() as RTCSdpType,\n            sdp: pack.string() || undefined,\n        };\n\n        let candidates = [];\n        let count = pack.uint();\n        for (let i = 0; i < count; ++i) {\n            candidates.push({\n                candidate: pack.string(),\n                sdpMid: \"0\",\n                sdpMLineIndex: 0,\n            });\n        }\n\n        return [init, candidates];\n    }\n}\n\ninterface rtc {\n    message: event<{ type: string }>,\n    send(message: any): void;\n}\n\nasync function rtc(self: FullIdent, args: rtc.Args): Promise<rtc> {\n    let socket = new WebSocket(args.host + '/' + self.name, args.protcols);\n\n    let ready = event();\n    let message = event<{ type: string }>();\n\n    socket.addEventListener('open', e => {\n        ready.emit();\n        socket.send(self.publicKey);\n    });\n\n    socket.addEventListener('message', e => {\n        let msg = JSON.parse(e.data);\n        message.emit(msg);\n    });\n\n    await ready.event.wait();\n\n    return {\n        message: message.event,\n        send(message) {\n            socket.send(JSON.stringify(message));\n        },\n    };\n}\n\nnamespace rtc {\n    export interface Args {\n        host: string,\n        protcols?: string[],\n    }\n\n    export function dialer(rtc: rtc): Dialer {\n        function makeChannel(base: RTCDataChannel): Channel {\n            return {\n                send: makeChannelSink(base),\n                receive: makeChannelSource(base),\n            };\n        }\n\n        async function prepareLocal(conn: RTCPeerConnection, local: RTCSessionDescriptionInit) {\n            let candidates: RTCIceCandidate[] = [];\n\n            await conn.setLocalDescription(local);\n            await new Promise((resolve, reject) => {\n                let listener = (e: RTCPeerConnectionIceEvent) => {\n                    if (e.candidate) {\n                        candidates.push(e.candidate);\n                    } else {\n                        conn.removeEventListener('icecandidate', listener);\n                        resolve();\n                    }\n                };\n\n                conn.addEventListener('icecandidate', listener);\n            });\n\n            return ConnectInfo.pack(local, candidates);\n        }\n\n        async function prepareRemote(conn: RTCPeerConnection, info: string) {\n            let [offer, candidates] = ConnectInfo.unpack(info);\n\n            await conn.setRemoteDescription(offer);\n            await Promise.all(candidates.map(ice => conn.addIceCandidate(ice)));\n        }\n\n        return {\n            async dial(target) {\n                let conn = new RTCPeerConnection(config);\n                let data = conn.createDataChannel('master');\n\n                let local = await prepareLocal(conn, await conn.createOffer());\n                rtc.send({\n                    type: 'offer',\n                    name: target,\n                    info: local,\n                });\n\n                let remote = await rtc.message.until(msg => {\n                    if (msg.type != 'answer') return;\n                    let answer = msg as any as { name: string, info: string };\n                    if (answer.name != target) return;\n                    return answer.info;\n                });\n\n                await prepareRemote(conn, remote);\n\n                await event.wrap(data, 'open').wait();\n\n                return makeChannel(data);\n            },\n\n            async accept() {\n                let conn = new RTCPeerConnection(config);\n\n                let { name: target, info: remote } = await rtc.message.until(msg => {\n                    if (msg.type != 'offer') return;\n                    return msg as any as { name: string, info: string };\n                });\n\n                await prepareRemote(conn, remote);\n\n                let local = await prepareLocal(conn, await conn.createAnswer());\n                rtc.send({\n                    type: 'answer',\n                    name: target,\n                    info: local,\n                });\n\n                let e = await event.wrap(conn, 'datachannel').wait() as RTCDataChannelEvent;\n\n                return {\n                    name: target,\n                    channel: makeChannel(e.channel),\n                };\n            },\n        };\n    }\n}\n\nexport default rtc;\n\nfunction makeChannelSink(base: RTCDataChannel): Sink {\n    let complete = false;\n\n    base.addEventListener('close', () => {\n        complete = true;\n    });\n\n    return (block) => {\n        if (complete)\n            throw new Error('clogged sink');\n\n        if (block == null) {\n            complete = true;\n            base.close();\n        } else {\n            base.send(block);\n        }\n    };\n}\n\nfunction makeChannelSource(base: RTCDataChannel): Source {\n    let data = pipe<Buffer>();\n\n    base.addEventListener('close', e => data[0](null));\n    base.addEventListener('message', e => data[0](Buffer.from(e.data, 0)));\n\n    return data[1];\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=d3faf140&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=d3faf140&lang=scss&scoped=true&\"","<template>\n  <div class=\"root\">\n    <template v-if=\"state == 'none'\">\n      <div class=\"name\">{{ localName }}</div>\n      <div>\n        <input v-model=\"connectInput\" @keydown=\"$event.keyCode == 13 && connect()\" />\n      </div>\n    </template>\n\n    <template v-if=\"state == 'connecting'\">\n      <div class=\"name\">{{ localName }}</div>\n      <div class=\"name\">{{ remoteName }}</div>\n    </template>\n\n    <template v-else-if=\"state == 'connected'\">\n      <div>\n        <p v-for=\"(msg, i) in messages\" :key=\"i\" :class=\"msg.class\">{{ msg.text }}</p>\n      </div>\n\n      <div>\n        <input v-model=\"sendInput\" @keydown=\"$event.keyCode == 13 && send()\" />\n      </div>\n    </template>\n  </div>\n</template>\n\n<script>\nimport { FullIdent } from 'web-ident';\nimport rtc from '@/p2p/rtc';\nimport { secure, authenticate } from '@/p2p/secure';\n\nconst host = location.hostname == 'localhost' ? 'ws://localhost:8081' : 'wss://api.mfro.me/p2p';\n\nexport default {\n  name: 'home',\n\n  data() {\n    return {\n      sendInput: '',\n      connectInput: '',\n      localName: '',\n      remoteName: '',\n      state: 'none',\n      messages: [],\n    };\n  },\n\n  async created() {\n    this.self = await FullIdent.generate();\n\n    let wrtc = await rtc(this.self, { host });\n    this.dialer = rtc.dialer(wrtc);\n\n    this.localName = this.self.name;\n\n    let incoming = await this.dialer.accept();\n    this.remoteName = incoming.name;\n    this.handle(incoming.name, incoming.channel, false);\n  },\n\n  methods: {\n    async connect() {\n      this.state = 'connecting';\n\n      let name = this.connectInput;\n      this.remoteName = name;\n\n      let channel = await this.dialer.dial(name);\n      this.handle(name, channel, true);\n    },\n\n    async handle(name, channel, initiator) {\n      channel = await secure(channel, initiator);\n      channel = await authenticate(channel, this.self, name);\n\n      this.state = 'connected';\n      this.channel = channel;\n\n      while (true) {\n        let receive = await channel.receive();\n        this.messages.push({\n          class: ['receive'],\n          text: receive.toString(),\n        });\n      }\n    },\n\n    send() {\n      let message = this.sendInput;\n      this.sendInput = '';\n      this.channel.send(Buffer.from(message));\n      this.messages.push({\n        class: ['send'],\n        text: message,\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.root {\n  padding: 10px;\n  max-width: 48ch;\n  font-family: monospace;\n}\n\n.name {\n  font-family: monospace;\n  text-align: center;\n  padding: 8px 0;\n}\n\np {\n  margin: 0 0 1em 0;\n  font-family: monospace;\n\n  &.send {\n    text-align: right;\n  }\n\n  &.receive {\n    text-align: left;\n  }\n}\n\ninput {\n  width: 100%;\n  font-family: monospace;\n}\n</style>\n","export * from './types';\nimport event from './event';\nimport pipe from './pipe';\nexport { event, pipe };\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('home')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"root\"},[(_vm.state == 'none')?[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.localName))]),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.connectInput),expression:\"connectInput\"}],domProps:{\"value\":(_vm.connectInput)},on:{\"keydown\":function($event){$event.keyCode == 13 && _vm.connect()},\"input\":function($event){if($event.target.composing){ return; }_vm.connectInput=$event.target.value}}})])]:_vm._e(),(_vm.state == 'connecting')?[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.localName))]),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.remoteName))])]:(_vm.state == 'connected')?[_c('div',_vm._l((_vm.messages),function(msg,i){return _c('p',{key:i,class:msg.class},[_vm._v(_vm._s(msg.text))])}),0),_c('div',[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.sendInput),expression:\"sendInput\"}],domProps:{\"value\":(_vm.sendInput)},on:{\"keydown\":function($event){$event.keyCode == 13 && _vm.send()},\"input\":function($event){if($event.target.composing){ return; }_vm.sendInput=$event.target.value}}})])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=d3faf140&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=d3faf140&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"d3faf140\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div id=\"app\">\n    <home />\n  </div>\n</template>\n\n<script>\nimport Home from '@/views/Home';\n\nexport default {\n  name: 'app',\n\n  components: {\n    Home,\n  },\n};\n</script>\n\n<style lang=\"scss\">\nbody {\n  margin: 0;\n}\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=2b772dea&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport App from './App.vue';\n\n// import './test';\n// import './test-ipfs';\n// import './test-libp2p';\n\nVue.config.productionTip = false;\n\nnew Vue({\n  render: h => h(App),\n}).$mount('#app')\n"],"sourceRoot":""}