{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/p2p/secure.ts","webpack:///./src/views/Home.vue?c01d","webpack:///./src/p2p/common/pipe.ts","webpack:///./src/p2p/common/event.ts","webpack:///../node_modules/buffer-es6/base64.js","webpack:///../node_modules/buffer-es6/ieee754.js","webpack:///../node_modules/buffer-es6/isArray.js","webpack:///../node_modules/buffer-es6/index.js","webpack:///../node_modules/safe-buffer/index.js","webpack:///../node_modules/base-x/src/index.js","webpack:///../node_modules/varint/encode.js","webpack:///../node_modules/varint/decode.js","webpack:///../node_modules/varint/length.js","webpack:///../node_modules/varint/index.js","webpack:///../src/code.ts","webpack:///../src/ident.ts","webpack:///./src/p2p/rtc.ts","webpack:///./src/p2p/common/index.ts","webpack:///./src/App.vue?cf5a","webpack:///./src/views/Home.vue?bc87","webpack:///src/views/Home.vue","webpack:///./src/views/Home.vue?2b8c","webpack:///./src/views/Home.vue","webpack:///src/App.vue","webpack:///./src/App.vue?a7d1","webpack:///./src/App.vue","webpack:///./src/plugins/vuetify.ts","webpack:///./src/main.ts","webpack:///./src/p2p/app.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","secure_sodium","base","initiator","a","ready","local","crypto_kx_keypair","send","Buffer","from","publicKey","receive","remote","Error","crypto_kx_client_session_keys","privateKey","crypto_kx_server_session_keys","tx","crypto_secretstream_xchacha20poly1305_init_push","sharedTx","header","rx","crypto_secretstream_xchacha20poly1305_init_pull","sharedRx","cipher","crypto_secretstream_xchacha20poly1305_push","state","plain","crypto_secretstream_xchacha20poly1305_pull","message","authenticate","self","other","bytes","sign","decode","incoming","fromPublicKey","remoteKey","verify","identity","valid","pipe","flush","write","read","reading","writing","resolve","complete","callback","Promise","event","listeners","Set","make","listen","add","delete","emit","listener","next","done","until","undefined","this","emitter","wrap","target","on","addEventListener","off","removeEventListener","from_source","src","e","block","lookup","revLookup","Arr","Uint8Array","Array","inited","init","code","len","charCodeAt","toByteArray","b64","tmp","placeHolders","arr","L","tripletToBase64","num","encodeChunk","uint8","start","end","output","join","fromByteArray","extraBytes","parts","maxChunkLength","len2","buffer","offset","isLE","mLen","nBytes","eLen","eMax","eBias","nBits","NaN","Infinity","Math","pow","rt","abs","isNaN","floor","log","LN2","toString","isArray","INSPECT_MAX_BYTES","TYPED_ARRAY_SUPPORT","global","_kMaxLength","kMaxLength","createBuffer","that","RangeError","__proto__","arg","encodingOrOffset","allocUnsafe","TypeError","ArrayBuffer","fromArrayBuffer","fromString","fromObject","assertSize","size","alloc","fill","encoding","checked","string","isEncoding","byteLength","actual","fromArrayLike","array","byteOffset","obj","internalIsBuffer","copy","isnan","type","SlowBuffer","b","_isBuffer","isView","loweredCase","utf8ToBytes","base64ToBytes","toLowerCase","slowToString","hexSlice","utf8Slice","asciiSlice","latin1Slice","base64Slice","utf16leSlice","swap","bidirectionalIndexOf","val","dir","arrayIndexOf","indexOf","lastIndexOf","indexSize","arrLength","valLength","String","buf","readUInt16BE","foundIndex","found","hexWrite","Number","remaining","strLen","parsed","parseInt","substr","utf8Write","blitBuffer","asciiWrite","asciiToBytes","latin1Write","base64Write","ucs2Write","utf16leToBytes","base64.fromByteArray","min","res","secondByte","thirdByte","fourthByte","tempCodePoint","firstByte","codePoint","bytesPerSequence","decodeCodePointsArray","poolSize","_augment","allocUnsafeSlow","isBuffer","compare","x","y","concat","list","pos","swap16","swap32","swap64","arguments","equals","inspect","str","max","match","thisStart","thisEnd","thisCopy","targetCopy","includes","isFinite","toJSON","_arr","MAX_ARGUMENTS_LENGTH","codePoints","fromCharCode","ret","out","toHex","checkOffset","ext","checkInt","objectWriteUInt16","littleEndian","objectWriteUInt32","checkIEEE754","writeFloat","noAssert","ieee754.write","writeDouble","newBuf","subarray","sliceLen","readUIntLE","mul","readUIntBE","readUInt8","readUInt16LE","readUInt32LE","readUInt32BE","readIntLE","readIntBE","readInt8","readInt16LE","readInt16BE","readInt32LE","readInt32BE","readFloatLE","ieee754.read","readFloatBE","readDoubleLE","readDoubleBE","writeUIntLE","maxBytes","writeUIntBE","writeUInt8","writeUInt16LE","writeUInt16BE","writeUInt32LE","writeUInt32BE","writeIntLE","limit","sub","writeIntBE","writeInt8","writeInt16LE","writeInt16BE","writeInt32LE","writeInt32BE","writeFloatLE","writeFloatBE","writeDoubleLE","writeDoubleBE","targetStart","set","INVALID_BASE64_RE","base64clean","stringtrim","replace","trim","units","leadSurrogate","byteArray","hi","lo","base64.toByteArray","dst","isFastBuffer","isSlowBuffer","constructor","copyProps","SafeBuffer","_Buffer","require$$0","ALPHABET","BASE_MAP","charAt","xc","BASE","LEADER","FACTOR","iFACTOR","encode","source","zeroes","pbegin","pend","b58","carry","it1","it2","repeat","decodeUnsafe","psz","b256","it3","it4","vch","MSB","REST","MSBALL","INT","oldOffset","counter","N1","N2","N3","N4","N5","N6","N7","N8","N9","require$$1","encodingLength","require$$2","base62","Encoder","index","ceil","log2","reserve","raw","varint","uint","Decoder","consumed","count","split","storage_prefix","private_storage_key","key_usages","key_params","namedCurve","sign_params","hash","Ident","publicKeyData","signature","crypto","subtle","endorsement","importKey","digest","ident","FullIdent","all","exportKey","json","public","private","JSON","stringify","include","generateKey","pair","fromKeyPair","parse","localStorage","getItem","import","exists","generate","export","setItem","ConnectInfo","config","iceServers","urls","rtc","args","socket","WebSocket","host","protcols","msg","makeChannelSink","close","bufferedAmount","bufferedAmountLowThreshold","makeChannelSource","pack","desc","candidates","sdp","ice","candidate","zip","deflate","level","unpack","inflate","sdpMid","sdpMLineIndex","dialer","makeChannel","prepareLocal","conn","setLocalDescription","reject","prepareRemote","info","offer","setRemoteDescription","map","addIceCandidate","dial","RTCPeerConnection","createDataChannel","id","negotiated","createOffer","answer","accept","createAnswer","channel","_vm","_h","$createElement","_c","_self","staticClass","staticRenderFns","onDragEnter","onDragLeave","onDragOver","onDrop","ref","attrs","url","$event","connect","keyCode","model","$$v","connectInput","expression","_e","_v","_s","localName","remoteName","class","dragging","_l","text","sendInput","messages","computed","location","origin","pathname","methods","select","setSelectionRange","document","execCommand","app","chat","preventDefault","onDragEnd","transfer","update","dl","download","href","URL","createObjectURL","blob","click","component","components","Home","use","icons","iconfont","productionTip","vuetify","render","h","App","$mount","Tags","file_id","content","files","blockSize","progress","file_header","reader","FileReader","readAsArrayBuffer","file_data","blobs","Blob"],"mappings":"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","file":"js/app.6953f81c.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([1,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import { Channel } from './common';\nimport { FullIdent, Ident, base62, Encoder, Decoder } from 'web-ident';\nimport sodium from 'libsodium-wrappers';\n\nasync function stream(key: Buffer, nonce: Buffer) {\n    let cryptoKey = await crypto.subtle.importKey('raw', key, {\n        name: 'AES-CTR',\n        length: key.length * 8,\n    }, false, ['encrypt']);\n\n    let blockSize = 16;\n\n    let current = Buffer.alloc(0);\n    let counter = Buffer.alloc(blockSize - nonce.length);\n\n    return {\n        async process(data: Buffer) {\n            let index = 0;\n            let result = Buffer.alloc(data.length);\n            while (index < data.length) {\n                if (current.length == 0) {\n                    let blockCount = Math.ceil(data.length / blockSize);\n\n                    current = Buffer.from(await crypto.subtle.encrypt({\n                        name: 'AES-CTR',\n                        counter: Buffer.concat([nonce, counter]),\n                        length: blockSize * 8,\n                    }, cryptoKey, Buffer.alloc(blockCount)));\n\n                    let carry = blockCount;\n                    for (let i = counter.length - 1; i >= 0 && carry > 0; --i) {\n                        let value = counter[i] + carry;\n                        counter[i] = value % 256;\n                        carry = Math.floor(value / 256);\n                    }\n                }\n\n                let size = Math.min(current.length, data.length - index);\n                for (let i = 0; i < size; ++i) {\n                    result[index + i] = data[index + i] ^ current[i];\n                }\n\n                index += size;\n                current = current.slice(size);\n            }\n\n            return result;\n        },\n    };\n}\n\nasync function secure_subtle(base: Channel, initiator: boolean): Promise<Channel> {\n    const algorithm = {\n        name: 'ECDH',\n        namedCurve: 'P-521',\n    };\n\n    let remote = (async () => {\n        let remotePublicRaw = await base.receive();\n        if (remotePublicRaw == null) throw new Error('handshake failure');\n\n        let remotePublic = JSON.parse(remotePublicRaw.toString()) as JsonWebKey;\n        return await crypto.subtle.importKey('jwk', remotePublic, algorithm, false, []);\n    })();\n\n    let keyPair = await crypto.subtle.generateKey(algorithm, false, ['deriveBits']);\n\n    let localPublic = await crypto.subtle.exportKey('jwk', keyPair.publicKey);\n    let localPublicRaw = Buffer.from(JSON.stringify(localPublic));\n    base.send(localPublicRaw);\n\n    let ecdh = await crypto.subtle.deriveBits({\n        name: 'ECDH',\n        public: await remote,\n    }, keyPair.privateKey, 528);\n\n    let hkdf = await crypto.subtle.importKey('raw', ecdh, { name: 'HKDF' } as any, false, ['deriveBits']);\n\n    let result = await crypto.subtle.deriveBits({\n        name: 'HKDF',\n        hash: 'SHA-512',\n        salt: Buffer.alloc(0),\n        info: Buffer.alloc(0),\n    } as any, hkdf, (256 + 64) * 2);\n\n    let bits = Buffer.from(result);\n\n    let keys = [bits.slice(0, 32), bits.slice(40, 72)];\n    let nonces = [bits.slice(32, 40), bits.slice(72, 80)];\n\n    let streams = await Promise.all(keys.map((key, i) => stream(key, nonces[i])));\n    if (!initiator) streams = streams.reverse();\n\n    return {\n        async send(data) {\n            if (data == null) {\n                base.send(null);\n                return;\n            }\n\n            let cipher = await streams[0].process(data);\n            await base.send(cipher);\n        },\n\n        async receive() {\n            let data = await base.receive();\n            if (data == null) return null;\n\n            let plain = await streams[1].process(data);\n            return plain;\n        },\n    };\n}\n\nasync function secure_sodium(base: Channel, initiator: boolean): Promise<Channel> {\n    await sodium.ready;\n\n    let local = sodium.crypto_kx_keypair();\n\n    await base.send(Buffer.from(local.publicKey));\n    let remote = await base.receive();\n    if (remote == null) throw new Error('handshake failure');\n\n    let result;\n    if (initiator)\n        result = sodium.crypto_kx_client_session_keys(local.publicKey, local.privateKey, remote);\n    else\n        result = sodium.crypto_kx_server_session_keys(local.publicKey, local.privateKey, remote);\n\n\n    let tx = sodium.crypto_secretstream_xchacha20poly1305_init_push(result.sharedTx);\n\n    await base.send(Buffer.from(tx.header));\n    let header = await base.receive();\n    if (header == null) throw new Error('handshake failure');\n\n    let rx = sodium.crypto_secretstream_xchacha20poly1305_init_pull(header, result.sharedRx);\n\n    return {\n        async send(data) {\n            if (data == null) {\n                await base.send(null);\n                return;\n            }\n\n            let cipher = sodium.crypto_secretstream_xchacha20poly1305_push(tx.state, data, null, 0);\n            await base.send(Buffer.from(cipher));\n        },\n\n        async receive() {\n            let data = await base.receive();\n            if (data == null) return null;\n\n            let plain = sodium.crypto_secretstream_xchacha20poly1305_pull(rx, data);\n            return Buffer.from(plain.message);\n        },\n    };\n}\n\nexport { secure_sodium as secure };\n\nexport async function authenticate(base: Channel, self: FullIdent, other: string) {\n    let receive = base.receive();\n\n    let local = new Encoder();\n    local.bytes(self.publicKey);\n    local.bytes(await self.sign(base62.decode(other)));\n    await base.send(local.result);\n\n    let incoming = await receive;\n    if (incoming == null) throw new Error('handshake failure');\n\n    let remote = new Decoder(incoming);\n    let remoteKey = await Ident.fromPublicKey(remote.bytes());\n    let valid = await remoteKey.verify(self.identity, remote.bytes());\n    if (!valid == null) throw new Error('handshake failure');\n\n    return base;\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=85866534&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=style&index=0&id=85866534&lang=scss&scoped=true&\"","import { Sink, Source } from './types';\n\nexport default pipe;\n\nfunction pipe<T = never>(): [Sink<T>, Source<T>] {\n    function flush() {\n        while (write.length > 0 && read.length > 0) {\n            let reading = read.shift()!;\n            let writing = write.shift()!;\n            reading(writing.value);\n            writing.resolve();\n        }\n\n        if (complete) {\n            for (let callback of read) {\n                callback(null);\n            }\n        }\n    }\n\n    let complete = false;\n    let read: ((value: T | null) => void)[] = [];\n    let write: { value: T | null, resolve: () => void }[] = [];\n\n    return [\n        (data) => new Promise((resolve) => {\n            if (complete) throw new Error('complete');\n            // if (write) throw new Error('overflow');\n\n            if (data == null)\n                complete = true;\n\n            write.push({ value: data, resolve });\n            flush();\n        }),\n\n        () => new Promise((resolve) => {\n            if (complete) resolve(null);\n            // if (read) throw new Error('overflow');\n\n            read.push(resolve);\n            flush();\n        }),\n    ]\n}\n","import { Source } from './types';\nimport pipe from './pipe';\n\nexport default event;\n\ninterface base<T> {\n    listen(callback: (value: T) => void): () => void;\n}\n\ninterface event<T = never> extends base<T> {\n    next(): Promise<T>;\n    until<TResult>(callback: (value: T) => TResult | undefined): Promise<TResult>;\n    until<TResult>(callback: (value: T) => Promise<TResult | undefined>): Promise<TResult>;\n}\n\nfunction event<T = never>(): event.emitter<T> {\n    let listeners = new Set<(value: T) => void>();\n\n    return {\n        event: event.make({\n            listen(callback: any) {\n                listeners.add(callback);\n                return () => listeners.delete(callback);\n            },\n        }),\n\n        emit(value?: any) {\n            for (let listener of listeners) {\n                listener(value);\n            }\n        },\n    };\n}\n\nnamespace event {\n    export function make<T>(base: base<T>) {\n        return {\n            ...base,\n\n            next() {\n                return new Promise<any>((resolve) => {\n                    let done = this.listen(value => {\n                        done();\n                        resolve(value);\n                    });\n                });\n            },\n\n            until(callback: any) {\n                return new Promise<any>((resolve) => {\n                    let done = this.listen(async value => {\n                        let result = await callback(value);\n                        if (result !== undefined) {\n                            done();\n                            resolve(result);\n                        }\n                    });\n                });\n            },\n        };\n    }\n\n    export interface emitter<T> {\n        event: event<T>;\n\n        emit(value: T): void;\n        emit(this: emitter<never>): void;\n    }\n\n    export function emitter<T>(base: emitter<T>) {\n        return base;\n    }\n\n    interface EmitterA<K, R> {\n        on(key: K, callback: (result: R) => void): void;\n        off(key: K, callback: (result: R) => void): void;\n    }\n\n    interface EmitterB<K, R> {\n        addEventListener(key: K, callback: (result: R) => void): void;\n        removeEventListener(key: K, callback: (result: R) => void): void;\n    }\n\n    export function wrap<R, K extends string, T extends EmitterA<K, R> | EmitterB<K, R>>(target: T, key: K): event<R> {\n        let t = target as any;\n        let on = t.on || t.addEventListener;\n        let off = t.off || t.removeEventListener;\n\n        return event.make({\n            listen(callback: any) {\n                on.apply(t, [key, callback]);\n                return () => off.apply(t, [key, callback]);\n            },\n        });\n    }\n\n    export function from_source<T>(src: Source<T>): event<T | null> {\n        let e = event<T | null>();\n\n        (async () => {\n            while (true) {\n                let block = await src();\n                e.emit(block);\n                if (block == null) break;\n            }\n        })();\n\n        return e.event;\n    }\n}\n","\nvar lookup = []\nvar revLookup = []\nvar Arr = typeof Uint8Array !== 'undefined' ? Uint8Array : Array\nvar inited = false;\nfunction init () {\n  inited = true;\n  var code = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'\n  for (var i = 0, len = code.length; i < len; ++i) {\n    lookup[i] = code[i]\n    revLookup[code.charCodeAt(i)] = i\n  }\n\n  revLookup['-'.charCodeAt(0)] = 62\n  revLookup['_'.charCodeAt(0)] = 63\n}\n\nexport function toByteArray (b64) {\n  if (!inited) {\n    init();\n  }\n  var i, j, l, tmp, placeHolders, arr\n  var len = b64.length\n\n  if (len % 4 > 0) {\n    throw new Error('Invalid string. Length must be a multiple of 4')\n  }\n\n  // the number of equal signs (place holders)\n  // if there are two placeholders, than the two characters before it\n  // represent one byte\n  // if there is only one, then the three characters before it represent 2 bytes\n  // this is just a cheap hack to not do indexOf twice\n  placeHolders = b64[len - 2] === '=' ? 2 : b64[len - 1] === '=' ? 1 : 0\n\n  // base64 is 4/3 + up to two characters of the original data\n  arr = new Arr(len * 3 / 4 - placeHolders)\n\n  // if there are placeholders, only get up to the last complete 4 chars\n  l = placeHolders > 0 ? len - 4 : len\n\n  var L = 0\n\n  for (i = 0, j = 0; i < l; i += 4, j += 3) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 18) | (revLookup[b64.charCodeAt(i + 1)] << 12) | (revLookup[b64.charCodeAt(i + 2)] << 6) | revLookup[b64.charCodeAt(i + 3)]\n    arr[L++] = (tmp >> 16) & 0xFF\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  if (placeHolders === 2) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 2) | (revLookup[b64.charCodeAt(i + 1)] >> 4)\n    arr[L++] = tmp & 0xFF\n  } else if (placeHolders === 1) {\n    tmp = (revLookup[b64.charCodeAt(i)] << 10) | (revLookup[b64.charCodeAt(i + 1)] << 4) | (revLookup[b64.charCodeAt(i + 2)] >> 2)\n    arr[L++] = (tmp >> 8) & 0xFF\n    arr[L++] = tmp & 0xFF\n  }\n\n  return arr\n}\n\nfunction tripletToBase64 (num) {\n  return lookup[num >> 18 & 0x3F] + lookup[num >> 12 & 0x3F] + lookup[num >> 6 & 0x3F] + lookup[num & 0x3F]\n}\n\nfunction encodeChunk (uint8, start, end) {\n  var tmp\n  var output = []\n  for (var i = start; i < end; i += 3) {\n    tmp = (uint8[i] << 16) + (uint8[i + 1] << 8) + (uint8[i + 2])\n    output.push(tripletToBase64(tmp))\n  }\n  return output.join('')\n}\n\nexport function fromByteArray (uint8) {\n  if (!inited) {\n    init();\n  }\n  var tmp\n  var len = uint8.length\n  var extraBytes = len % 3 // if we have 1 byte left, pad 2 bytes\n  var output = ''\n  var parts = []\n  var maxChunkLength = 16383 // must be multiple of 3\n\n  // go through the array every three bytes, we'll deal with trailing stuff later\n  for (var i = 0, len2 = len - extraBytes; i < len2; i += maxChunkLength) {\n    parts.push(encodeChunk(uint8, i, (i + maxChunkLength) > len2 ? len2 : (i + maxChunkLength)))\n  }\n\n  // pad the end with zeros, but make sure to not forget the extra bytes\n  if (extraBytes === 1) {\n    tmp = uint8[len - 1]\n    output += lookup[tmp >> 2]\n    output += lookup[(tmp << 4) & 0x3F]\n    output += '=='\n  } else if (extraBytes === 2) {\n    tmp = (uint8[len - 2] << 8) + (uint8[len - 1])\n    output += lookup[tmp >> 10]\n    output += lookup[(tmp >> 4) & 0x3F]\n    output += lookup[(tmp << 2) & 0x3F]\n    output += '='\n  }\n\n  parts.push(output)\n\n  return parts.join('')\n}\n","\nexport function read (buffer, offset, isLE, mLen, nBytes) {\n  var e, m\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var nBits = -7\n  var i = isLE ? (nBytes - 1) : 0\n  var d = isLE ? -1 : 1\n  var s = buffer[offset + i]\n\n  i += d\n\n  e = s & ((1 << (-nBits)) - 1)\n  s >>= (-nBits)\n  nBits += eLen\n  for (; nBits > 0; e = e * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  m = e & ((1 << (-nBits)) - 1)\n  e >>= (-nBits)\n  nBits += mLen\n  for (; nBits > 0; m = m * 256 + buffer[offset + i], i += d, nBits -= 8) {}\n\n  if (e === 0) {\n    e = 1 - eBias\n  } else if (e === eMax) {\n    return m ? NaN : ((s ? -1 : 1) * Infinity)\n  } else {\n    m = m + Math.pow(2, mLen)\n    e = e - eBias\n  }\n  return (s ? -1 : 1) * m * Math.pow(2, e - mLen)\n}\n\nexport function write (buffer, value, offset, isLE, mLen, nBytes) {\n  var e, m, c\n  var eLen = nBytes * 8 - mLen - 1\n  var eMax = (1 << eLen) - 1\n  var eBias = eMax >> 1\n  var rt = (mLen === 23 ? Math.pow(2, -24) - Math.pow(2, -77) : 0)\n  var i = isLE ? 0 : (nBytes - 1)\n  var d = isLE ? 1 : -1\n  var s = value < 0 || (value === 0 && 1 / value < 0) ? 1 : 0\n\n  value = Math.abs(value)\n\n  if (isNaN(value) || value === Infinity) {\n    m = isNaN(value) ? 1 : 0\n    e = eMax\n  } else {\n    e = Math.floor(Math.log(value) / Math.LN2)\n    if (value * (c = Math.pow(2, -e)) < 1) {\n      e--\n      c *= 2\n    }\n    if (e + eBias >= 1) {\n      value += rt / c\n    } else {\n      value += rt * Math.pow(2, 1 - eBias)\n    }\n    if (value * c >= 2) {\n      e++\n      c /= 2\n    }\n\n    if (e + eBias >= eMax) {\n      m = 0\n      e = eMax\n    } else if (e + eBias >= 1) {\n      m = (value * c - 1) * Math.pow(2, mLen)\n      e = e + eBias\n    } else {\n      m = value * Math.pow(2, eBias - 1) * Math.pow(2, mLen)\n      e = 0\n    }\n  }\n\n  for (; mLen >= 8; buffer[offset + i] = m & 0xff, i += d, m /= 256, mLen -= 8) {}\n\n  e = (e << mLen) | m\n  eLen += mLen\n  for (; eLen > 0; buffer[offset + i] = e & 0xff, i += d, e /= 256, eLen -= 8) {}\n\n  buffer[offset + i - d] |= s * 128\n}\n","var toString = {}.toString;\n\nexport default Array.isArray || function (arr) {\n  return toString.call(arr) == '[object Array]';\n};\n","/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>\n * @license  MIT\n */\n/* eslint-disable no-proto */\n\n\nimport * as base64 from './base64'\nimport * as ieee754 from './ieee754'\nimport isArray from './isArray'\n\nexport var INSPECT_MAX_BYTES = 50\n\n/**\n * If `Buffer.TYPED_ARRAY_SUPPORT`:\n *   === true    Use Uint8Array implementation (fastest)\n *   === false   Use Object implementation (most compatible, even IE6)\n *\n * Browsers that support typed arrays are IE 10+, Firefox 4+, Chrome 7+, Safari 5.1+,\n * Opera 11.6+, iOS 4.2+.\n *\n * Due to various browser bugs, sometimes the Object implementation will be used even\n * when the browser supports typed arrays.\n *\n * Note:\n *\n *   - Firefox 4-29 lacks support for adding new properties to `Uint8Array` instances,\n *     See: https://bugzilla.mozilla.org/show_bug.cgi?id=695438.\n *\n *   - Chrome 9-10 is missing the `TypedArray.prototype.subarray` function.\n *\n *   - IE10 has a broken `TypedArray.prototype.subarray` function which returns arrays of\n *     incorrect length in some situations.\n\n * We detect these buggy browsers and set `Buffer.TYPED_ARRAY_SUPPORT` to `false` so they\n * get the Object implementation, which is slower but behaves correctly.\n */\nBuffer.TYPED_ARRAY_SUPPORT = global.TYPED_ARRAY_SUPPORT !== undefined\n  ? global.TYPED_ARRAY_SUPPORT\n  : true\n\n/*\n * Export kMaxLength after typed array support is determined.\n */\nvar _kMaxLength = kMaxLength()\nexport {_kMaxLength as kMaxLength};\nfunction typedArraySupport () {\n  return true;\n  // rollup issues\n  // try {\n  //   var arr = new Uint8Array(1)\n  //   arr.__proto__ = {\n  //     __proto__: Uint8Array.prototype,\n  //     foo: function () { return 42 }\n  //   }\n  //   return arr.foo() === 42 && // typed array instances can be augmented\n  //       typeof arr.subarray === 'function' && // chrome 9-10 lack `subarray`\n  //       arr.subarray(1, 1).byteLength === 0 // ie10 has broken `subarray`\n  // } catch (e) {\n  //   return false\n  // }\n}\n\nfunction kMaxLength () {\n  return Buffer.TYPED_ARRAY_SUPPORT\n    ? 0x7fffffff\n    : 0x3fffffff\n}\n\nfunction createBuffer (that, length) {\n  if (kMaxLength() < length) {\n    throw new RangeError('Invalid typed array length')\n  }\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = new Uint8Array(length)\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    if (that === null) {\n      that = new Buffer(length)\n    }\n    that.length = length\n  }\n\n  return that\n}\n\n/**\n * The Buffer constructor returns instances of `Uint8Array` that have their\n * prototype changed to `Buffer.prototype`. Furthermore, `Buffer` is a subclass of\n * `Uint8Array`, so the returned instances will have all the node `Buffer` methods\n * and the `Uint8Array` methods. Square bracket notation works as expected -- it\n * returns a single octet.\n *\n * The `Uint8Array` prototype remains unmodified.\n */\n\nexport function Buffer (arg, encodingOrOffset, length) {\n  if (!Buffer.TYPED_ARRAY_SUPPORT && !(this instanceof Buffer)) {\n    return new Buffer(arg, encodingOrOffset, length)\n  }\n\n  // Common case.\n  if (typeof arg === 'number') {\n    if (typeof encodingOrOffset === 'string') {\n      throw new Error(\n        'If encoding is specified then the first argument must be a string'\n      )\n    }\n    return allocUnsafe(this, arg)\n  }\n  return from(this, arg, encodingOrOffset, length)\n}\n\nBuffer.poolSize = 8192 // not used by this implementation\n\n// TODO: Legacy, not needed anymore. Remove in next major version.\nBuffer._augment = function (arr) {\n  arr.__proto__ = Buffer.prototype\n  return arr\n}\n\nfunction from (that, value, encodingOrOffset, length) {\n  if (typeof value === 'number') {\n    throw new TypeError('\"value\" argument must not be a number')\n  }\n\n  if (typeof ArrayBuffer !== 'undefined' && value instanceof ArrayBuffer) {\n    return fromArrayBuffer(that, value, encodingOrOffset, length)\n  }\n\n  if (typeof value === 'string') {\n    return fromString(that, value, encodingOrOffset)\n  }\n\n  return fromObject(that, value)\n}\n\n/**\n * Functionally equivalent to Buffer(arg, encoding) but throws a TypeError\n * if value is a number.\n * Buffer.from(str[, encoding])\n * Buffer.from(array)\n * Buffer.from(buffer)\n * Buffer.from(arrayBuffer[, byteOffset[, length]])\n **/\nBuffer.from = function (value, encodingOrOffset, length) {\n  return from(null, value, encodingOrOffset, length)\n}\n\nif (Buffer.TYPED_ARRAY_SUPPORT) {\n  Buffer.prototype.__proto__ = Uint8Array.prototype\n  Buffer.__proto__ = Uint8Array\n  if (typeof Symbol !== 'undefined' && Symbol.species &&\n      Buffer[Symbol.species] === Buffer) {\n    // Fix subarray() in ES2016. See: https://github.com/feross/buffer/pull/97\n    // Object.defineProperty(Buffer, Symbol.species, {\n    //   value: null,\n    //   configurable: true\n    // })\n  }\n}\n\nfunction assertSize (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('\"size\" argument must be a number')\n  } else if (size < 0) {\n    throw new RangeError('\"size\" argument must not be negative')\n  }\n}\n\nfunction alloc (that, size, fill, encoding) {\n  assertSize(size)\n  if (size <= 0) {\n    return createBuffer(that, size)\n  }\n  if (fill !== undefined) {\n    // Only pay attention to encoding if it's a string. This\n    // prevents accidentally sending in a number that would\n    // be interpretted as a start offset.\n    return typeof encoding === 'string'\n      ? createBuffer(that, size).fill(fill, encoding)\n      : createBuffer(that, size).fill(fill)\n  }\n  return createBuffer(that, size)\n}\n\n/**\n * Creates a new filled Buffer instance.\n * alloc(size[, fill[, encoding]])\n **/\nBuffer.alloc = function (size, fill, encoding) {\n  return alloc(null, size, fill, encoding)\n}\n\nfunction allocUnsafe (that, size) {\n  assertSize(size)\n  that = createBuffer(that, size < 0 ? 0 : checked(size) | 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) {\n    for (var i = 0; i < size; ++i) {\n      that[i] = 0\n    }\n  }\n  return that\n}\n\n/**\n * Equivalent to Buffer(num), by default creates a non-zero-filled Buffer instance.\n * */\nBuffer.allocUnsafe = function (size) {\n  return allocUnsafe(null, size)\n}\n/**\n * Equivalent to SlowBuffer(num), by default creates a non-zero-filled Buffer instance.\n */\nBuffer.allocUnsafeSlow = function (size) {\n  return allocUnsafe(null, size)\n}\n\nfunction fromString (that, string, encoding) {\n  if (typeof encoding !== 'string' || encoding === '') {\n    encoding = 'utf8'\n  }\n\n  if (!Buffer.isEncoding(encoding)) {\n    throw new TypeError('\"encoding\" must be a valid string encoding')\n  }\n\n  var length = byteLength(string, encoding) | 0\n  that = createBuffer(that, length)\n\n  var actual = that.write(string, encoding)\n\n  if (actual !== length) {\n    // Writing a hex string, for example, that contains invalid characters will\n    // cause everything after the first invalid character to be ignored. (e.g.\n    // 'abxxcd' will be treated as 'ab')\n    that = that.slice(0, actual)\n  }\n\n  return that\n}\n\nfunction fromArrayLike (that, array) {\n  var length = array.length < 0 ? 0 : checked(array.length) | 0\n  that = createBuffer(that, length)\n  for (var i = 0; i < length; i += 1) {\n    that[i] = array[i] & 255\n  }\n  return that\n}\n\nfunction fromArrayBuffer (that, array, byteOffset, length) {\n  array.byteLength // this throws if `array` is not a valid ArrayBuffer\n\n  if (byteOffset < 0 || array.byteLength < byteOffset) {\n    throw new RangeError('\\'offset\\' is out of bounds')\n  }\n\n  if (array.byteLength < byteOffset + (length || 0)) {\n    throw new RangeError('\\'length\\' is out of bounds')\n  }\n\n  if (byteOffset === undefined && length === undefined) {\n    array = new Uint8Array(array)\n  } else if (length === undefined) {\n    array = new Uint8Array(array, byteOffset)\n  } else {\n    array = new Uint8Array(array, byteOffset, length)\n  }\n\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    // Return an augmented `Uint8Array` instance, for best performance\n    that = array\n    that.__proto__ = Buffer.prototype\n  } else {\n    // Fallback: Return an object instance of the Buffer class\n    that = fromArrayLike(that, array)\n  }\n  return that\n}\n\nfunction fromObject (that, obj) {\n  if (internalIsBuffer(obj)) {\n    var len = checked(obj.length) | 0\n    that = createBuffer(that, len)\n\n    if (that.length === 0) {\n      return that\n    }\n\n    obj.copy(that, 0, 0, len)\n    return that\n  }\n\n  if (obj) {\n    if ((typeof ArrayBuffer !== 'undefined' &&\n        obj.buffer instanceof ArrayBuffer) || 'length' in obj) {\n      if (typeof obj.length !== 'number' || isnan(obj.length)) {\n        return createBuffer(that, 0)\n      }\n      return fromArrayLike(that, obj)\n    }\n\n    if (obj.type === 'Buffer' && isArray(obj.data)) {\n      return fromArrayLike(that, obj.data)\n    }\n  }\n\n  throw new TypeError('First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.')\n}\n\nfunction checked (length) {\n  // Note: cannot use `length < kMaxLength()` here because that fails when\n  // length is NaN (which is otherwise coerced to zero.)\n  if (length >= kMaxLength()) {\n    throw new RangeError('Attempt to allocate Buffer larger than maximum ' +\n                         'size: 0x' + kMaxLength().toString(16) + ' bytes')\n  }\n  return length | 0\n}\n\nexport function SlowBuffer (length) {\n  if (+length != length) { // eslint-disable-line eqeqeq\n    length = 0\n  }\n  return Buffer.alloc(+length)\n}\nBuffer.isBuffer = isBuffer;\nfunction internalIsBuffer (b) {\n  return !!(b != null && b._isBuffer)\n}\n\nBuffer.compare = function compare (a, b) {\n  if (!internalIsBuffer(a) || !internalIsBuffer(b)) {\n    throw new TypeError('Arguments must be Buffers')\n  }\n\n  if (a === b) return 0\n\n  var x = a.length\n  var y = b.length\n\n  for (var i = 0, len = Math.min(x, y); i < len; ++i) {\n    if (a[i] !== b[i]) {\n      x = a[i]\n      y = b[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\nBuffer.isEncoding = function isEncoding (encoding) {\n  switch (String(encoding).toLowerCase()) {\n    case 'hex':\n    case 'utf8':\n    case 'utf-8':\n    case 'ascii':\n    case 'latin1':\n    case 'binary':\n    case 'base64':\n    case 'ucs2':\n    case 'ucs-2':\n    case 'utf16le':\n    case 'utf-16le':\n      return true\n    default:\n      return false\n  }\n}\n\nBuffer.concat = function concat (list, length) {\n  if (!isArray(list)) {\n    throw new TypeError('\"list\" argument must be an Array of Buffers')\n  }\n\n  if (list.length === 0) {\n    return Buffer.alloc(0)\n  }\n\n  var i\n  if (length === undefined) {\n    length = 0\n    for (i = 0; i < list.length; ++i) {\n      length += list[i].length\n    }\n  }\n\n  var buffer = Buffer.allocUnsafe(length)\n  var pos = 0\n  for (i = 0; i < list.length; ++i) {\n    var buf = list[i]\n    if (!internalIsBuffer(buf)) {\n      throw new TypeError('\"list\" argument must be an Array of Buffers')\n    }\n    buf.copy(buffer, pos)\n    pos += buf.length\n  }\n  return buffer\n}\n\nfunction byteLength (string, encoding) {\n  if (internalIsBuffer(string)) {\n    return string.length\n  }\n  if (typeof ArrayBuffer !== 'undefined' && typeof ArrayBuffer.isView === 'function' &&\n      (ArrayBuffer.isView(string) || string instanceof ArrayBuffer)) {\n    return string.byteLength\n  }\n  if (typeof string !== 'string') {\n    string = '' + string\n  }\n\n  var len = string.length\n  if (len === 0) return 0\n\n  // Use a for loop to avoid recursion\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'ascii':\n      case 'latin1':\n      case 'binary':\n        return len\n      case 'utf8':\n      case 'utf-8':\n      case undefined:\n        return utf8ToBytes(string).length\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return len * 2\n      case 'hex':\n        return len >>> 1\n      case 'base64':\n        return base64ToBytes(string).length\n      default:\n        if (loweredCase) return utf8ToBytes(string).length // assume utf8\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\nBuffer.byteLength = byteLength\n\nfunction slowToString (encoding, start, end) {\n  var loweredCase = false\n\n  // No need to verify that \"this.length <= MAX_UINT32\" since it's a read-only\n  // property of a typed array.\n\n  // This behaves neither like String nor Uint8Array in that we set start/end\n  // to their upper/lower bounds if the value passed is out of range.\n  // undefined is handled specially as per ECMA-262 6th Edition,\n  // Section 13.3.3.7 Runtime Semantics: KeyedBindingInitialization.\n  if (start === undefined || start < 0) {\n    start = 0\n  }\n  // Return early if start > this.length. Done here to prevent potential uint32\n  // coercion fail below.\n  if (start > this.length) {\n    return ''\n  }\n\n  if (end === undefined || end > this.length) {\n    end = this.length\n  }\n\n  if (end <= 0) {\n    return ''\n  }\n\n  // Force coersion to uint32. This will also coerce falsey/NaN values to 0.\n  end >>>= 0\n  start >>>= 0\n\n  if (end <= start) {\n    return ''\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  while (true) {\n    switch (encoding) {\n      case 'hex':\n        return hexSlice(this, start, end)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Slice(this, start, end)\n\n      case 'ascii':\n        return asciiSlice(this, start, end)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Slice(this, start, end)\n\n      case 'base64':\n        return base64Slice(this, start, end)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return utf16leSlice(this, start, end)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = (encoding + '').toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\n// The property is used by `Buffer.isBuffer` and `is-buffer` (in Safari 5-7) to detect\n// Buffer instances.\nBuffer.prototype._isBuffer = true\n\nfunction swap (b, n, m) {\n  var i = b[n]\n  b[n] = b[m]\n  b[m] = i\n}\n\nBuffer.prototype.swap16 = function swap16 () {\n  var len = this.length\n  if (len % 2 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 16-bits')\n  }\n  for (var i = 0; i < len; i += 2) {\n    swap(this, i, i + 1)\n  }\n  return this\n}\n\nBuffer.prototype.swap32 = function swap32 () {\n  var len = this.length\n  if (len % 4 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 32-bits')\n  }\n  for (var i = 0; i < len; i += 4) {\n    swap(this, i, i + 3)\n    swap(this, i + 1, i + 2)\n  }\n  return this\n}\n\nBuffer.prototype.swap64 = function swap64 () {\n  var len = this.length\n  if (len % 8 !== 0) {\n    throw new RangeError('Buffer size must be a multiple of 64-bits')\n  }\n  for (var i = 0; i < len; i += 8) {\n    swap(this, i, i + 7)\n    swap(this, i + 1, i + 6)\n    swap(this, i + 2, i + 5)\n    swap(this, i + 3, i + 4)\n  }\n  return this\n}\n\nBuffer.prototype.toString = function toString () {\n  var length = this.length | 0\n  if (length === 0) return ''\n  if (arguments.length === 0) return utf8Slice(this, 0, length)\n  return slowToString.apply(this, arguments)\n}\n\nBuffer.prototype.equals = function equals (b) {\n  if (!internalIsBuffer(b)) throw new TypeError('Argument must be a Buffer')\n  if (this === b) return true\n  return Buffer.compare(this, b) === 0\n}\n\nBuffer.prototype.inspect = function inspect () {\n  var str = ''\n  var max = INSPECT_MAX_BYTES\n  if (this.length > 0) {\n    str = this.toString('hex', 0, max).match(/.{2}/g).join(' ')\n    if (this.length > max) str += ' ... '\n  }\n  return '<Buffer ' + str + '>'\n}\n\nBuffer.prototype.compare = function compare (target, start, end, thisStart, thisEnd) {\n  if (!internalIsBuffer(target)) {\n    throw new TypeError('Argument must be a Buffer')\n  }\n\n  if (start === undefined) {\n    start = 0\n  }\n  if (end === undefined) {\n    end = target ? target.length : 0\n  }\n  if (thisStart === undefined) {\n    thisStart = 0\n  }\n  if (thisEnd === undefined) {\n    thisEnd = this.length\n  }\n\n  if (start < 0 || end > target.length || thisStart < 0 || thisEnd > this.length) {\n    throw new RangeError('out of range index')\n  }\n\n  if (thisStart >= thisEnd && start >= end) {\n    return 0\n  }\n  if (thisStart >= thisEnd) {\n    return -1\n  }\n  if (start >= end) {\n    return 1\n  }\n\n  start >>>= 0\n  end >>>= 0\n  thisStart >>>= 0\n  thisEnd >>>= 0\n\n  if (this === target) return 0\n\n  var x = thisEnd - thisStart\n  var y = end - start\n  var len = Math.min(x, y)\n\n  var thisCopy = this.slice(thisStart, thisEnd)\n  var targetCopy = target.slice(start, end)\n\n  for (var i = 0; i < len; ++i) {\n    if (thisCopy[i] !== targetCopy[i]) {\n      x = thisCopy[i]\n      y = targetCopy[i]\n      break\n    }\n  }\n\n  if (x < y) return -1\n  if (y < x) return 1\n  return 0\n}\n\n// Finds either the first index of `val` in `buffer` at offset >= `byteOffset`,\n// OR the last index of `val` in `buffer` at offset <= `byteOffset`.\n//\n// Arguments:\n// - buffer - a Buffer to search\n// - val - a string, Buffer, or number\n// - byteOffset - an index into `buffer`; will be clamped to an int32\n// - encoding - an optional encoding, relevant is val is a string\n// - dir - true for indexOf, false for lastIndexOf\nfunction bidirectionalIndexOf (buffer, val, byteOffset, encoding, dir) {\n  // Empty buffer means no match\n  if (buffer.length === 0) return -1\n\n  // Normalize byteOffset\n  if (typeof byteOffset === 'string') {\n    encoding = byteOffset\n    byteOffset = 0\n  } else if (byteOffset > 0x7fffffff) {\n    byteOffset = 0x7fffffff\n  } else if (byteOffset < -0x80000000) {\n    byteOffset = -0x80000000\n  }\n  byteOffset = +byteOffset  // Coerce to Number.\n  if (isNaN(byteOffset)) {\n    // byteOffset: it it's undefined, null, NaN, \"foo\", etc, search whole buffer\n    byteOffset = dir ? 0 : (buffer.length - 1)\n  }\n\n  // Normalize byteOffset: negative offsets start from the end of the buffer\n  if (byteOffset < 0) byteOffset = buffer.length + byteOffset\n  if (byteOffset >= buffer.length) {\n    if (dir) return -1\n    else byteOffset = buffer.length - 1\n  } else if (byteOffset < 0) {\n    if (dir) byteOffset = 0\n    else return -1\n  }\n\n  // Normalize val\n  if (typeof val === 'string') {\n    val = Buffer.from(val, encoding)\n  }\n\n  // Finally, search either indexOf (if dir is true) or lastIndexOf\n  if (internalIsBuffer(val)) {\n    // Special case: looking for empty string/buffer always fails\n    if (val.length === 0) {\n      return -1\n    }\n    return arrayIndexOf(buffer, val, byteOffset, encoding, dir)\n  } else if (typeof val === 'number') {\n    val = val & 0xFF // Search for a byte value [0-255]\n    if (Buffer.TYPED_ARRAY_SUPPORT &&\n        typeof Uint8Array.prototype.indexOf === 'function') {\n      if (dir) {\n        return Uint8Array.prototype.indexOf.call(buffer, val, byteOffset)\n      } else {\n        return Uint8Array.prototype.lastIndexOf.call(buffer, val, byteOffset)\n      }\n    }\n    return arrayIndexOf(buffer, [ val ], byteOffset, encoding, dir)\n  }\n\n  throw new TypeError('val must be string, number or Buffer')\n}\n\nfunction arrayIndexOf (arr, val, byteOffset, encoding, dir) {\n  var indexSize = 1\n  var arrLength = arr.length\n  var valLength = val.length\n\n  if (encoding !== undefined) {\n    encoding = String(encoding).toLowerCase()\n    if (encoding === 'ucs2' || encoding === 'ucs-2' ||\n        encoding === 'utf16le' || encoding === 'utf-16le') {\n      if (arr.length < 2 || val.length < 2) {\n        return -1\n      }\n      indexSize = 2\n      arrLength /= 2\n      valLength /= 2\n      byteOffset /= 2\n    }\n  }\n\n  function read (buf, i) {\n    if (indexSize === 1) {\n      return buf[i]\n    } else {\n      return buf.readUInt16BE(i * indexSize)\n    }\n  }\n\n  var i\n  if (dir) {\n    var foundIndex = -1\n    for (i = byteOffset; i < arrLength; i++) {\n      if (read(arr, i) === read(val, foundIndex === -1 ? 0 : i - foundIndex)) {\n        if (foundIndex === -1) foundIndex = i\n        if (i - foundIndex + 1 === valLength) return foundIndex * indexSize\n      } else {\n        if (foundIndex !== -1) i -= i - foundIndex\n        foundIndex = -1\n      }\n    }\n  } else {\n    if (byteOffset + valLength > arrLength) byteOffset = arrLength - valLength\n    for (i = byteOffset; i >= 0; i--) {\n      var found = true\n      for (var j = 0; j < valLength; j++) {\n        if (read(arr, i + j) !== read(val, j)) {\n          found = false\n          break\n        }\n      }\n      if (found) return i\n    }\n  }\n\n  return -1\n}\n\nBuffer.prototype.includes = function includes (val, byteOffset, encoding) {\n  return this.indexOf(val, byteOffset, encoding) !== -1\n}\n\nBuffer.prototype.indexOf = function indexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, true)\n}\n\nBuffer.prototype.lastIndexOf = function lastIndexOf (val, byteOffset, encoding) {\n  return bidirectionalIndexOf(this, val, byteOffset, encoding, false)\n}\n\nfunction hexWrite (buf, string, offset, length) {\n  offset = Number(offset) || 0\n  var remaining = buf.length - offset\n  if (!length) {\n    length = remaining\n  } else {\n    length = Number(length)\n    if (length > remaining) {\n      length = remaining\n    }\n  }\n\n  // must be an even number of digits\n  var strLen = string.length\n  if (strLen % 2 !== 0) throw new TypeError('Invalid hex string')\n\n  if (length > strLen / 2) {\n    length = strLen / 2\n  }\n  for (var i = 0; i < length; ++i) {\n    var parsed = parseInt(string.substr(i * 2, 2), 16)\n    if (isNaN(parsed)) return i\n    buf[offset + i] = parsed\n  }\n  return i\n}\n\nfunction utf8Write (buf, string, offset, length) {\n  return blitBuffer(utf8ToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nfunction asciiWrite (buf, string, offset, length) {\n  return blitBuffer(asciiToBytes(string), buf, offset, length)\n}\n\nfunction latin1Write (buf, string, offset, length) {\n  return asciiWrite(buf, string, offset, length)\n}\n\nfunction base64Write (buf, string, offset, length) {\n  return blitBuffer(base64ToBytes(string), buf, offset, length)\n}\n\nfunction ucs2Write (buf, string, offset, length) {\n  return blitBuffer(utf16leToBytes(string, buf.length - offset), buf, offset, length)\n}\n\nBuffer.prototype.write = function write (string, offset, length, encoding) {\n  // Buffer#write(string)\n  if (offset === undefined) {\n    encoding = 'utf8'\n    length = this.length\n    offset = 0\n  // Buffer#write(string, encoding)\n  } else if (length === undefined && typeof offset === 'string') {\n    encoding = offset\n    length = this.length\n    offset = 0\n  // Buffer#write(string, offset[, length][, encoding])\n  } else if (isFinite(offset)) {\n    offset = offset | 0\n    if (isFinite(length)) {\n      length = length | 0\n      if (encoding === undefined) encoding = 'utf8'\n    } else {\n      encoding = length\n      length = undefined\n    }\n  // legacy write(string, encoding, offset, length) - remove in v0.13\n  } else {\n    throw new Error(\n      'Buffer.write(string, encoding, offset[, length]) is no longer supported'\n    )\n  }\n\n  var remaining = this.length - offset\n  if (length === undefined || length > remaining) length = remaining\n\n  if ((string.length > 0 && (length < 0 || offset < 0)) || offset > this.length) {\n    throw new RangeError('Attempt to write outside buffer bounds')\n  }\n\n  if (!encoding) encoding = 'utf8'\n\n  var loweredCase = false\n  for (;;) {\n    switch (encoding) {\n      case 'hex':\n        return hexWrite(this, string, offset, length)\n\n      case 'utf8':\n      case 'utf-8':\n        return utf8Write(this, string, offset, length)\n\n      case 'ascii':\n        return asciiWrite(this, string, offset, length)\n\n      case 'latin1':\n      case 'binary':\n        return latin1Write(this, string, offset, length)\n\n      case 'base64':\n        // Warning: maxLength not taken into account in base64Write\n        return base64Write(this, string, offset, length)\n\n      case 'ucs2':\n      case 'ucs-2':\n      case 'utf16le':\n      case 'utf-16le':\n        return ucs2Write(this, string, offset, length)\n\n      default:\n        if (loweredCase) throw new TypeError('Unknown encoding: ' + encoding)\n        encoding = ('' + encoding).toLowerCase()\n        loweredCase = true\n    }\n  }\n}\n\nBuffer.prototype.toJSON = function toJSON () {\n  return {\n    type: 'Buffer',\n    data: Array.prototype.slice.call(this._arr || this, 0)\n  }\n}\n\nfunction base64Slice (buf, start, end) {\n  if (start === 0 && end === buf.length) {\n    return base64.fromByteArray(buf)\n  } else {\n    return base64.fromByteArray(buf.slice(start, end))\n  }\n}\n\nfunction utf8Slice (buf, start, end) {\n  end = Math.min(buf.length, end)\n  var res = []\n\n  var i = start\n  while (i < end) {\n    var firstByte = buf[i]\n    var codePoint = null\n    var bytesPerSequence = (firstByte > 0xEF) ? 4\n      : (firstByte > 0xDF) ? 3\n      : (firstByte > 0xBF) ? 2\n      : 1\n\n    if (i + bytesPerSequence <= end) {\n      var secondByte, thirdByte, fourthByte, tempCodePoint\n\n      switch (bytesPerSequence) {\n        case 1:\n          if (firstByte < 0x80) {\n            codePoint = firstByte\n          }\n          break\n        case 2:\n          secondByte = buf[i + 1]\n          if ((secondByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0x1F) << 0x6 | (secondByte & 0x3F)\n            if (tempCodePoint > 0x7F) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 3:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0xC | (secondByte & 0x3F) << 0x6 | (thirdByte & 0x3F)\n            if (tempCodePoint > 0x7FF && (tempCodePoint < 0xD800 || tempCodePoint > 0xDFFF)) {\n              codePoint = tempCodePoint\n            }\n          }\n          break\n        case 4:\n          secondByte = buf[i + 1]\n          thirdByte = buf[i + 2]\n          fourthByte = buf[i + 3]\n          if ((secondByte & 0xC0) === 0x80 && (thirdByte & 0xC0) === 0x80 && (fourthByte & 0xC0) === 0x80) {\n            tempCodePoint = (firstByte & 0xF) << 0x12 | (secondByte & 0x3F) << 0xC | (thirdByte & 0x3F) << 0x6 | (fourthByte & 0x3F)\n            if (tempCodePoint > 0xFFFF && tempCodePoint < 0x110000) {\n              codePoint = tempCodePoint\n            }\n          }\n      }\n    }\n\n    if (codePoint === null) {\n      // we did not generate a valid codePoint so insert a\n      // replacement char (U+FFFD) and advance only 1 byte\n      codePoint = 0xFFFD\n      bytesPerSequence = 1\n    } else if (codePoint > 0xFFFF) {\n      // encode to utf16 (surrogate pair dance)\n      codePoint -= 0x10000\n      res.push(codePoint >>> 10 & 0x3FF | 0xD800)\n      codePoint = 0xDC00 | codePoint & 0x3FF\n    }\n\n    res.push(codePoint)\n    i += bytesPerSequence\n  }\n\n  return decodeCodePointsArray(res)\n}\n\n// Based on http://stackoverflow.com/a/22747272/680742, the browser with\n// the lowest limit is Chrome, with 0x10000 args.\n// We go 1 magnitude less, for safety\nvar MAX_ARGUMENTS_LENGTH = 0x1000\n\nfunction decodeCodePointsArray (codePoints) {\n  var len = codePoints.length\n  if (len <= MAX_ARGUMENTS_LENGTH) {\n    return String.fromCharCode.apply(String, codePoints) // avoid extra slice()\n  }\n\n  // Decode in chunks to avoid \"call stack size exceeded\".\n  var res = ''\n  var i = 0\n  while (i < len) {\n    res += String.fromCharCode.apply(\n      String,\n      codePoints.slice(i, i += MAX_ARGUMENTS_LENGTH)\n    )\n  }\n  return res\n}\n\nfunction asciiSlice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i] & 0x7F)\n  }\n  return ret\n}\n\nfunction latin1Slice (buf, start, end) {\n  var ret = ''\n  end = Math.min(buf.length, end)\n\n  for (var i = start; i < end; ++i) {\n    ret += String.fromCharCode(buf[i])\n  }\n  return ret\n}\n\nfunction hexSlice (buf, start, end) {\n  var len = buf.length\n\n  if (!start || start < 0) start = 0\n  if (!end || end < 0 || end > len) end = len\n\n  var out = ''\n  for (var i = start; i < end; ++i) {\n    out += toHex(buf[i])\n  }\n  return out\n}\n\nfunction utf16leSlice (buf, start, end) {\n  var bytes = buf.slice(start, end)\n  var res = ''\n  for (var i = 0; i < bytes.length; i += 2) {\n    res += String.fromCharCode(bytes[i] + bytes[i + 1] * 256)\n  }\n  return res\n}\n\nBuffer.prototype.slice = function slice (start, end) {\n  var len = this.length\n  start = ~~start\n  end = end === undefined ? len : ~~end\n\n  if (start < 0) {\n    start += len\n    if (start < 0) start = 0\n  } else if (start > len) {\n    start = len\n  }\n\n  if (end < 0) {\n    end += len\n    if (end < 0) end = 0\n  } else if (end > len) {\n    end = len\n  }\n\n  if (end < start) end = start\n\n  var newBuf\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    newBuf = this.subarray(start, end)\n    newBuf.__proto__ = Buffer.prototype\n  } else {\n    var sliceLen = end - start\n    newBuf = new Buffer(sliceLen, undefined)\n    for (var i = 0; i < sliceLen; ++i) {\n      newBuf[i] = this[i + start]\n    }\n  }\n\n  return newBuf\n}\n\n/*\n * Need to make sure that buffer isn't trying to write out of bounds.\n */\nfunction checkOffset (offset, ext, length) {\n  if ((offset % 1) !== 0 || offset < 0) throw new RangeError('offset is not uint')\n  if (offset + ext > length) throw new RangeError('Trying to access beyond buffer length')\n}\n\nBuffer.prototype.readUIntLE = function readUIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUIntBE = function readUIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    checkOffset(offset, byteLength, this.length)\n  }\n\n  var val = this[offset + --byteLength]\n  var mul = 1\n  while (byteLength > 0 && (mul *= 0x100)) {\n    val += this[offset + --byteLength] * mul\n  }\n\n  return val\n}\n\nBuffer.prototype.readUInt8 = function readUInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  return this[offset]\n}\n\nBuffer.prototype.readUInt16LE = function readUInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return this[offset] | (this[offset + 1] << 8)\n}\n\nBuffer.prototype.readUInt16BE = function readUInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  return (this[offset] << 8) | this[offset + 1]\n}\n\nBuffer.prototype.readUInt32LE = function readUInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return ((this[offset]) |\n      (this[offset + 1] << 8) |\n      (this[offset + 2] << 16)) +\n      (this[offset + 3] * 0x1000000)\n}\n\nBuffer.prototype.readUInt32BE = function readUInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] * 0x1000000) +\n    ((this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    this[offset + 3])\n}\n\nBuffer.prototype.readIntLE = function readIntLE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var val = this[offset]\n  var mul = 1\n  var i = 0\n  while (++i < byteLength && (mul *= 0x100)) {\n    val += this[offset + i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readIntBE = function readIntBE (offset, byteLength, noAssert) {\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) checkOffset(offset, byteLength, this.length)\n\n  var i = byteLength\n  var mul = 1\n  var val = this[offset + --i]\n  while (i > 0 && (mul *= 0x100)) {\n    val += this[offset + --i] * mul\n  }\n  mul *= 0x80\n\n  if (val >= mul) val -= Math.pow(2, 8 * byteLength)\n\n  return val\n}\n\nBuffer.prototype.readInt8 = function readInt8 (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 1, this.length)\n  if (!(this[offset] & 0x80)) return (this[offset])\n  return ((0xff - this[offset] + 1) * -1)\n}\n\nBuffer.prototype.readInt16LE = function readInt16LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset] | (this[offset + 1] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt16BE = function readInt16BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 2, this.length)\n  var val = this[offset + 1] | (this[offset] << 8)\n  return (val & 0x8000) ? val | 0xFFFF0000 : val\n}\n\nBuffer.prototype.readInt32LE = function readInt32LE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset]) |\n    (this[offset + 1] << 8) |\n    (this[offset + 2] << 16) |\n    (this[offset + 3] << 24)\n}\n\nBuffer.prototype.readInt32BE = function readInt32BE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n\n  return (this[offset] << 24) |\n    (this[offset + 1] << 16) |\n    (this[offset + 2] << 8) |\n    (this[offset + 3])\n}\n\nBuffer.prototype.readFloatLE = function readFloatLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, true, 23, 4)\n}\n\nBuffer.prototype.readFloatBE = function readFloatBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 4, this.length)\n  return ieee754.read(this, offset, false, 23, 4)\n}\n\nBuffer.prototype.readDoubleLE = function readDoubleLE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, true, 52, 8)\n}\n\nBuffer.prototype.readDoubleBE = function readDoubleBE (offset, noAssert) {\n  if (!noAssert) checkOffset(offset, 8, this.length)\n  return ieee754.read(this, offset, false, 52, 8)\n}\n\nfunction checkInt (buf, value, offset, ext, max, min) {\n  if (!internalIsBuffer(buf)) throw new TypeError('\"buffer\" argument must be a Buffer instance')\n  if (value > max || value < min) throw new RangeError('\"value\" argument is out of bounds')\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n}\n\nBuffer.prototype.writeUIntLE = function writeUIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var mul = 1\n  var i = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUIntBE = function writeUIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  byteLength = byteLength | 0\n  if (!noAssert) {\n    var maxBytes = Math.pow(2, 8 * byteLength) - 1\n    checkInt(this, value, offset, byteLength, maxBytes, 0)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    this[offset + i] = (value / mul) & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeUInt8 = function writeUInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0xff, 0)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nfunction objectWriteUInt16 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 2); i < j; ++i) {\n    buf[offset + i] = (value & (0xff << (8 * (littleEndian ? i : 1 - i)))) >>>\n      (littleEndian ? i : 1 - i) * 8\n  }\n}\n\nBuffer.prototype.writeUInt16LE = function writeUInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeUInt16BE = function writeUInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0xffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nfunction objectWriteUInt32 (buf, value, offset, littleEndian) {\n  if (value < 0) value = 0xffffffff + value + 1\n  for (var i = 0, j = Math.min(buf.length - offset, 4); i < j; ++i) {\n    buf[offset + i] = (value >>> (littleEndian ? i : 3 - i) * 8) & 0xff\n  }\n}\n\nBuffer.prototype.writeUInt32LE = function writeUInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset + 3] = (value >>> 24)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 1] = (value >>> 8)\n    this[offset] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeUInt32BE = function writeUInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0xffffffff, 0)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeIntLE = function writeIntLE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = 0\n  var mul = 1\n  var sub = 0\n  this[offset] = value & 0xFF\n  while (++i < byteLength && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i - 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeIntBE = function writeIntBE (value, offset, byteLength, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) {\n    var limit = Math.pow(2, 8 * byteLength - 1)\n\n    checkInt(this, value, offset, byteLength, limit - 1, -limit)\n  }\n\n  var i = byteLength - 1\n  var mul = 1\n  var sub = 0\n  this[offset + i] = value & 0xFF\n  while (--i >= 0 && (mul *= 0x100)) {\n    if (value < 0 && sub === 0 && this[offset + i + 1] !== 0) {\n      sub = 1\n    }\n    this[offset + i] = ((value / mul) >> 0) - sub & 0xFF\n  }\n\n  return offset + byteLength\n}\n\nBuffer.prototype.writeInt8 = function writeInt8 (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 1, 0x7f, -0x80)\n  if (!Buffer.TYPED_ARRAY_SUPPORT) value = Math.floor(value)\n  if (value < 0) value = 0xff + value + 1\n  this[offset] = (value & 0xff)\n  return offset + 1\n}\n\nBuffer.prototype.writeInt16LE = function writeInt16LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n  } else {\n    objectWriteUInt16(this, value, offset, true)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt16BE = function writeInt16BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 2, 0x7fff, -0x8000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 8)\n    this[offset + 1] = (value & 0xff)\n  } else {\n    objectWriteUInt16(this, value, offset, false)\n  }\n  return offset + 2\n}\n\nBuffer.prototype.writeInt32LE = function writeInt32LE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value & 0xff)\n    this[offset + 1] = (value >>> 8)\n    this[offset + 2] = (value >>> 16)\n    this[offset + 3] = (value >>> 24)\n  } else {\n    objectWriteUInt32(this, value, offset, true)\n  }\n  return offset + 4\n}\n\nBuffer.prototype.writeInt32BE = function writeInt32BE (value, offset, noAssert) {\n  value = +value\n  offset = offset | 0\n  if (!noAssert) checkInt(this, value, offset, 4, 0x7fffffff, -0x80000000)\n  if (value < 0) value = 0xffffffff + value + 1\n  if (Buffer.TYPED_ARRAY_SUPPORT) {\n    this[offset] = (value >>> 24)\n    this[offset + 1] = (value >>> 16)\n    this[offset + 2] = (value >>> 8)\n    this[offset + 3] = (value & 0xff)\n  } else {\n    objectWriteUInt32(this, value, offset, false)\n  }\n  return offset + 4\n}\n\nfunction checkIEEE754 (buf, value, offset, ext, max, min) {\n  if (offset + ext > buf.length) throw new RangeError('Index out of range')\n  if (offset < 0) throw new RangeError('Index out of range')\n}\n\nfunction writeFloat (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 4, 3.4028234663852886e+38, -3.4028234663852886e+38)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 23, 4)\n  return offset + 4\n}\n\nBuffer.prototype.writeFloatLE = function writeFloatLE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeFloatBE = function writeFloatBE (value, offset, noAssert) {\n  return writeFloat(this, value, offset, false, noAssert)\n}\n\nfunction writeDouble (buf, value, offset, littleEndian, noAssert) {\n  if (!noAssert) {\n    checkIEEE754(buf, value, offset, 8, 1.7976931348623157E+308, -1.7976931348623157E+308)\n  }\n  ieee754.write(buf, value, offset, littleEndian, 52, 8)\n  return offset + 8\n}\n\nBuffer.prototype.writeDoubleLE = function writeDoubleLE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, true, noAssert)\n}\n\nBuffer.prototype.writeDoubleBE = function writeDoubleBE (value, offset, noAssert) {\n  return writeDouble(this, value, offset, false, noAssert)\n}\n\n// copy(targetBuffer, targetStart=0, sourceStart=0, sourceEnd=buffer.length)\nBuffer.prototype.copy = function copy (target, targetStart, start, end) {\n  if (!start) start = 0\n  if (!end && end !== 0) end = this.length\n  if (targetStart >= target.length) targetStart = target.length\n  if (!targetStart) targetStart = 0\n  if (end > 0 && end < start) end = start\n\n  // Copy 0 bytes; we're done\n  if (end === start) return 0\n  if (target.length === 0 || this.length === 0) return 0\n\n  // Fatal error conditions\n  if (targetStart < 0) {\n    throw new RangeError('targetStart out of bounds')\n  }\n  if (start < 0 || start >= this.length) throw new RangeError('sourceStart out of bounds')\n  if (end < 0) throw new RangeError('sourceEnd out of bounds')\n\n  // Are we oob?\n  if (end > this.length) end = this.length\n  if (target.length - targetStart < end - start) {\n    end = target.length - targetStart + start\n  }\n\n  var len = end - start\n  var i\n\n  if (this === target && start < targetStart && targetStart < end) {\n    // descending copy from end\n    for (i = len - 1; i >= 0; --i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else if (len < 1000 || !Buffer.TYPED_ARRAY_SUPPORT) {\n    // ascending copy from start\n    for (i = 0; i < len; ++i) {\n      target[i + targetStart] = this[i + start]\n    }\n  } else {\n    Uint8Array.prototype.set.call(\n      target,\n      this.subarray(start, start + len),\n      targetStart\n    )\n  }\n\n  return len\n}\n\n// Usage:\n//    buffer.fill(number[, offset[, end]])\n//    buffer.fill(buffer[, offset[, end]])\n//    buffer.fill(string[, offset[, end]][, encoding])\nBuffer.prototype.fill = function fill (val, start, end, encoding) {\n  // Handle string cases:\n  if (typeof val === 'string') {\n    if (typeof start === 'string') {\n      encoding = start\n      start = 0\n      end = this.length\n    } else if (typeof end === 'string') {\n      encoding = end\n      end = this.length\n    }\n    if (val.length === 1) {\n      var code = val.charCodeAt(0)\n      if (code < 256) {\n        val = code\n      }\n    }\n    if (encoding !== undefined && typeof encoding !== 'string') {\n      throw new TypeError('encoding must be a string')\n    }\n    if (typeof encoding === 'string' && !Buffer.isEncoding(encoding)) {\n      throw new TypeError('Unknown encoding: ' + encoding)\n    }\n  } else if (typeof val === 'number') {\n    val = val & 255\n  }\n\n  // Invalid ranges are not set to a default, so can range check early.\n  if (start < 0 || this.length < start || this.length < end) {\n    throw new RangeError('Out of range index')\n  }\n\n  if (end <= start) {\n    return this\n  }\n\n  start = start >>> 0\n  end = end === undefined ? this.length : end >>> 0\n\n  if (!val) val = 0\n\n  var i\n  if (typeof val === 'number') {\n    for (i = start; i < end; ++i) {\n      this[i] = val\n    }\n  } else {\n    var bytes = internalIsBuffer(val)\n      ? val\n      : utf8ToBytes(new Buffer(val, encoding).toString())\n    var len = bytes.length\n    for (i = 0; i < end - start; ++i) {\n      this[i + start] = bytes[i % len]\n    }\n  }\n\n  return this\n}\n\n// HELPER FUNCTIONS\n// ================\n\nvar INVALID_BASE64_RE = /[^+\\/0-9A-Za-z-_]/g\n\nfunction base64clean (str) {\n  // Node strips out invalid characters like \\n and \\t from the string, base64-js does not\n  str = stringtrim(str).replace(INVALID_BASE64_RE, '')\n  // Node converts strings with length < 2 to ''\n  if (str.length < 2) return ''\n  // Node allows for non-padded base64 strings (missing trailing ===), base64-js does not\n  while (str.length % 4 !== 0) {\n    str = str + '='\n  }\n  return str\n}\n\nfunction stringtrim (str) {\n  if (str.trim) return str.trim()\n  return str.replace(/^\\s+|\\s+$/g, '')\n}\n\nfunction toHex (n) {\n  if (n < 16) return '0' + n.toString(16)\n  return n.toString(16)\n}\n\nfunction utf8ToBytes (string, units) {\n  units = units || Infinity\n  var codePoint\n  var length = string.length\n  var leadSurrogate = null\n  var bytes = []\n\n  for (var i = 0; i < length; ++i) {\n    codePoint = string.charCodeAt(i)\n\n    // is surrogate component\n    if (codePoint > 0xD7FF && codePoint < 0xE000) {\n      // last char was a lead\n      if (!leadSurrogate) {\n        // no lead yet\n        if (codePoint > 0xDBFF) {\n          // unexpected trail\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        } else if (i + 1 === length) {\n          // unpaired lead\n          if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n          continue\n        }\n\n        // valid lead\n        leadSurrogate = codePoint\n\n        continue\n      }\n\n      // 2 leads in a row\n      if (codePoint < 0xDC00) {\n        if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n        leadSurrogate = codePoint\n        continue\n      }\n\n      // valid surrogate pair\n      codePoint = (leadSurrogate - 0xD800 << 10 | codePoint - 0xDC00) + 0x10000\n    } else if (leadSurrogate) {\n      // valid bmp char, but last char was a lead\n      if ((units -= 3) > -1) bytes.push(0xEF, 0xBF, 0xBD)\n    }\n\n    leadSurrogate = null\n\n    // encode utf8\n    if (codePoint < 0x80) {\n      if ((units -= 1) < 0) break\n      bytes.push(codePoint)\n    } else if (codePoint < 0x800) {\n      if ((units -= 2) < 0) break\n      bytes.push(\n        codePoint >> 0x6 | 0xC0,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x10000) {\n      if ((units -= 3) < 0) break\n      bytes.push(\n        codePoint >> 0xC | 0xE0,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else if (codePoint < 0x110000) {\n      if ((units -= 4) < 0) break\n      bytes.push(\n        codePoint >> 0x12 | 0xF0,\n        codePoint >> 0xC & 0x3F | 0x80,\n        codePoint >> 0x6 & 0x3F | 0x80,\n        codePoint & 0x3F | 0x80\n      )\n    } else {\n      throw new Error('Invalid code point')\n    }\n  }\n\n  return bytes\n}\n\nfunction asciiToBytes (str) {\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    // Node's code seems to be doing this and not & 0x7F..\n    byteArray.push(str.charCodeAt(i) & 0xFF)\n  }\n  return byteArray\n}\n\nfunction utf16leToBytes (str, units) {\n  var c, hi, lo\n  var byteArray = []\n  for (var i = 0; i < str.length; ++i) {\n    if ((units -= 2) < 0) break\n\n    c = str.charCodeAt(i)\n    hi = c >> 8\n    lo = c % 256\n    byteArray.push(lo)\n    byteArray.push(hi)\n  }\n\n  return byteArray\n}\n\n\nfunction base64ToBytes (str) {\n  return base64.toByteArray(base64clean(str))\n}\n\nfunction blitBuffer (src, dst, offset, length) {\n  for (var i = 0; i < length; ++i) {\n    if ((i + offset >= dst.length) || (i >= src.length)) break\n    dst[i + offset] = src[i]\n  }\n  return i\n}\n\nfunction isnan (val) {\n  return val !== val // eslint-disable-line no-self-compare\n}\n\n\n// the following is from is-buffer, also by Feross Aboukhadijeh and with same lisence\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nexport function isBuffer(obj) {\n  return obj != null && (!!obj._isBuffer || isFastBuffer(obj) || isSlowBuffer(obj))\n}\n\nfunction isFastBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isFastBuffer(obj.slice(0, 0))\n}\n","/* eslint-disable node/no-deprecated-api */\nvar buffer = require('buffer')\nvar Buffer = buffer.Buffer\n\n// alternative to using Object.keys for old browsers\nfunction copyProps (src, dst) {\n  for (var key in src) {\n    dst[key] = src[key]\n  }\n}\nif (Buffer.from && Buffer.alloc && Buffer.allocUnsafe && Buffer.allocUnsafeSlow) {\n  module.exports = buffer\n} else {\n  // Copy properties from require('buffer')\n  copyProps(buffer, exports)\n  exports.Buffer = SafeBuffer\n}\n\nfunction SafeBuffer (arg, encodingOrOffset, length) {\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.prototype = Object.create(Buffer.prototype)\n\n// Copy static methods from Buffer\ncopyProps(Buffer, SafeBuffer)\n\nSafeBuffer.from = function (arg, encodingOrOffset, length) {\n  if (typeof arg === 'number') {\n    throw new TypeError('Argument must not be a number')\n  }\n  return Buffer(arg, encodingOrOffset, length)\n}\n\nSafeBuffer.alloc = function (size, fill, encoding) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  var buf = Buffer(size)\n  if (fill !== undefined) {\n    if (typeof encoding === 'string') {\n      buf.fill(fill, encoding)\n    } else {\n      buf.fill(fill)\n    }\n  } else {\n    buf.fill(0)\n  }\n  return buf\n}\n\nSafeBuffer.allocUnsafe = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return Buffer(size)\n}\n\nSafeBuffer.allocUnsafeSlow = function (size) {\n  if (typeof size !== 'number') {\n    throw new TypeError('Argument must be a number')\n  }\n  return buffer.SlowBuffer(size)\n}\n","'use strict'\n// base-x encoding / decoding\n// Copyright (c) 2018 base-x contributors\n// Copyright (c) 2014-2018 The Bitcoin Core developers (base58.cpp)\n// Distributed under the MIT software license, see the accompanying\n// file LICENSE or http://www.opensource.org/licenses/mit-license.php.\n// @ts-ignore\nvar _Buffer = require('safe-buffer').Buffer\nfunction base (ALPHABET) {\n  if (ALPHABET.length >= 255) { throw new TypeError('Alphabet too long') }\n  var BASE_MAP = new Uint8Array(256)\n  BASE_MAP.fill(255)\n  for (var i = 0; i < ALPHABET.length; i++) {\n    var x = ALPHABET.charAt(i)\n    var xc = x.charCodeAt(0)\n    if (BASE_MAP[xc] !== 255) { throw new TypeError(x + ' is ambiguous') }\n    BASE_MAP[xc] = i\n  }\n  var BASE = ALPHABET.length\n  var LEADER = ALPHABET.charAt(0)\n  var FACTOR = Math.log(BASE) / Math.log(256) // log(BASE) / log(256), rounded up\n  var iFACTOR = Math.log(256) / Math.log(BASE) // log(256) / log(BASE), rounded up\n  function encode (source) {\n    if (!_Buffer.isBuffer(source)) { throw new TypeError('Expected Buffer') }\n    if (source.length === 0) { return '' }\n        // Skip & count leading zeroes.\n    var zeroes = 0\n    var length = 0\n    var pbegin = 0\n    var pend = source.length\n    while (pbegin !== pend && source[pbegin] === 0) {\n      pbegin++\n      zeroes++\n    }\n        // Allocate enough space in big-endian base58 representation.\n    var size = ((pend - pbegin) * iFACTOR + 1) >>> 0\n    var b58 = new Uint8Array(size)\n        // Process the bytes.\n    while (pbegin !== pend) {\n      var carry = source[pbegin]\n            // Apply \"b58 = b58 * 256 + ch\".\n      var i = 0\n      for (var it1 = size - 1; (carry !== 0 || i < length) && (it1 !== -1); it1--, i++) {\n        carry += (256 * b58[it1]) >>> 0\n        b58[it1] = (carry % BASE) >>> 0\n        carry = (carry / BASE) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      pbegin++\n    }\n        // Skip leading zeroes in base58 result.\n    var it2 = size - length\n    while (it2 !== size && b58[it2] === 0) {\n      it2++\n    }\n        // Translate the result into a string.\n    var str = LEADER.repeat(zeroes)\n    for (; it2 < size; ++it2) { str += ALPHABET.charAt(b58[it2]) }\n    return str\n  }\n  function decodeUnsafe (source) {\n    if (typeof source !== 'string') { throw new TypeError('Expected String') }\n    if (source.length === 0) { return _Buffer.alloc(0) }\n    var psz = 0\n        // Skip leading spaces.\n    if (source[psz] === ' ') { return }\n        // Skip and count leading '1's.\n    var zeroes = 0\n    var length = 0\n    while (source[psz] === LEADER) {\n      zeroes++\n      psz++\n    }\n        // Allocate enough space in big-endian base256 representation.\n    var size = (((source.length - psz) * FACTOR) + 1) >>> 0 // log(58) / log(256), rounded up.\n    var b256 = new Uint8Array(size)\n        // Process the characters.\n    while (source[psz]) {\n            // Decode character\n      var carry = BASE_MAP[source.charCodeAt(psz)]\n            // Invalid character\n      if (carry === 255) { return }\n      var i = 0\n      for (var it3 = size - 1; (carry !== 0 || i < length) && (it3 !== -1); it3--, i++) {\n        carry += (BASE * b256[it3]) >>> 0\n        b256[it3] = (carry % 256) >>> 0\n        carry = (carry / 256) >>> 0\n      }\n      if (carry !== 0) { throw new Error('Non-zero carry') }\n      length = i\n      psz++\n    }\n        // Skip trailing spaces.\n    if (source[psz] === ' ') { return }\n        // Skip leading zeroes in b256.\n    var it4 = size - length\n    while (it4 !== size && b256[it4] === 0) {\n      it4++\n    }\n    var vch = _Buffer.allocUnsafe(zeroes + (size - it4))\n    vch.fill(0x00, 0, zeroes)\n    var j = zeroes\n    while (it4 !== size) {\n      vch[j++] = b256[it4++]\n    }\n    return vch\n  }\n  function decode (string) {\n    var buffer = decodeUnsafe(string)\n    if (buffer) { return buffer }\n    throw new Error('Non-base' + BASE + ' character')\n  }\n  return {\n    encode: encode,\n    decodeUnsafe: decodeUnsafe,\n    decode: decode\n  }\n}\nmodule.exports = base\n","module.exports = encode\n\nvar MSB = 0x80\n  , REST = 0x7F\n  , MSBALL = ~REST\n  , INT = Math.pow(2, 31)\n\nfunction encode(num, out, offset) {\n  out = out || []\n  offset = offset || 0\n  var oldOffset = offset\n\n  while(num >= INT) {\n    out[offset++] = (num & 0xFF) | MSB\n    num /= 128\n  }\n  while(num & MSBALL) {\n    out[offset++] = (num & 0xFF) | MSB\n    num >>>= 7\n  }\n  out[offset] = num | 0\n  \n  encode.bytes = offset - oldOffset + 1\n  \n  return out\n}\n","module.exports = read\n\nvar MSB = 0x80\n  , REST = 0x7F\n\nfunction read(buf, offset) {\n  var res    = 0\n    , offset = offset || 0\n    , shift  = 0\n    , counter = offset\n    , b\n    , l = buf.length\n\n  do {\n    if (counter >= l) {\n      read.bytes = 0\n      throw new RangeError('Could not decode varint')\n    }\n    b = buf[counter++]\n    res += shift < 28\n      ? (b & REST) << shift\n      : (b & REST) * Math.pow(2, shift)\n    shift += 7\n  } while (b >= MSB)\n\n  read.bytes = counter - offset\n\n  return res\n}\n","\nvar N1 = Math.pow(2,  7)\nvar N2 = Math.pow(2, 14)\nvar N3 = Math.pow(2, 21)\nvar N4 = Math.pow(2, 28)\nvar N5 = Math.pow(2, 35)\nvar N6 = Math.pow(2, 42)\nvar N7 = Math.pow(2, 49)\nvar N8 = Math.pow(2, 56)\nvar N9 = Math.pow(2, 63)\n\nmodule.exports = function (value) {\n  return (\n    value < N1 ? 1\n  : value < N2 ? 2\n  : value < N3 ? 3\n  : value < N4 ? 4\n  : value < N5 ? 5\n  : value < N6 ? 6\n  : value < N7 ? 7\n  : value < N8 ? 8\n  : value < N9 ? 9\n  :              10\n  )\n}\n","module.exports = {\n    encode: require('./encode.js')\n  , decode: require('./decode.js')\n  , encodingLength: require('./length.js')\n}\n","import base from 'base-x';\nimport varint from 'varint';\n\nexport const base62 = base('ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789');\n\nexport class Encoder {\n    private data = Buffer.alloc(256);\n    length = 0;\n\n    private reserve(add: number) {\n        let index = this.length;\n\n        this.length += add;\n        if (this.length > this.data.length) {\n            let size = Math.pow(2, Math.ceil(Math.log2(this.length)));\n            let data = Buffer.alloc(size);\n            this.data.copy(data, 0, 0);\n            this.data = data;\n        }\n\n        return index;\n    }\n\n    get result() {\n        return this.data.slice(0, this.length);\n    }\n\n    private raw(block: Buffer) {\n        let index = this.reserve(block.length);\n        block.copy(this.data, index);\n    }\n\n    include(other: Encoder) {\n        this.raw(other.result);\n    }\n\n    uint(val: number) {\n        let index = this.reserve(varint.encodingLength(val));\n        varint.encode(val, this.data, index);\n    }\n\n    bytes(val: Buffer) {\n        this.uint(val.length);\n        this.raw(val);\n    }\n\n    string(val: string, encoding = 'utf8') {\n        this.bytes(Buffer.from(val, encoding as any));\n    }\n}\n\nexport class Decoder {\n    consumed: Buffer;\n    remaining: Buffer;\n\n    constructor(\n        private readonly data: Buffer,\n    ) {\n        this.consumed = data.slice(0, 0);\n        this.remaining = data.slice(0);\n    }\n\n    private shift(count: number) {\n        let split = this.consumed.length + count;\n        this.consumed = this.data.slice(0, split);\n        this.remaining = this.data.slice(split);\n    }\n\n    uint(): number {\n        let value = varint.decode(this.remaining);\n        this.shift(varint.decode.bytes);\n        return value;\n    }\n\n    bytes(): Buffer {\n        let length = this.uint();\n        let data = this.remaining.slice(0, length);\n        this.shift(length);\n        return data;\n    }\n\n    string(encoding = 'utf8'): string {\n        return this.bytes().toString(encoding);\n    }\n}\n\n// const formatter = {\n//     header(obj: any, config: any) {\n//         if (obj instanceof Encoder) {\n//             return [\"span\", {}, 'encoder'];\n//         }\n\n//         if (obj instanceof Decoder) {\n//             return [\"span\", {}, 'decoder'];\n//         }\n\n//         return null;\n//     },\n//     hasBody(obj: any, config: any) {\n//         return false;\n//     },\n//     body(obj: any, config: any) {\n//     }\n// };\n\n// let x = window as any;\n// if (x.devtoolsFormatters == null) x.devtoolsFormatters = [];\n// x.devtoolsFormatters.push(formatter);\n","import { Encoder, Decoder, base62 } from './code';\n\nconst storage_prefix = 'web-ident';\nconst private_storage_key = storage_prefix + '.private-key';\n\nconst key_usages: string[] = ['sign', 'verify'];\nconst key_params: EcKeyGenParams = {\n    name: 'ECDSA',\n    namedCurve: 'P-521',\n};\n\nconst sign_params: EcdsaParams = {\n    name: 'ECDSA',\n    hash: 'SHA-512',\n};\n\nexport class Ident {\n    static async fromPublicKey(publicKey: Buffer) {\n        let key = await crypto.subtle.importKey('raw', publicKey, key_params, true, ['verify']);\n        let ident = Buffer.from(await crypto.subtle.digest('SHA-256', publicKey));\n        return new Ident(key, publicKey, ident);\n    }\n\n    protected constructor(\n        protected readonly publicKeyData: CryptoKey,\n        readonly publicKey: Buffer,\n        readonly identity: Buffer,\n    ) { }\n\n    get name() {\n        return base62.encode(this.identity);\n    }\n\n    async verify(data: Buffer | Uint8Array, signature: Buffer) {\n        return await crypto.subtle.verify(sign_params, this.publicKeyData, signature, data);\n    }\n\n    async validate(endorsement: Buffer) {\n        let src = new Decoder(endorsement);\n        let signature = src.bytes();\n        if (!await this.verify(src.remaining, signature))\n            return null;\n\n        return src;\n    }\n}\n\nexport class FullIdent extends Ident {\n    static async generate() {\n        let pair = await crypto.subtle.generateKey(key_params, true, key_usages) as CryptoKeyPair;\n        return await this.fromKeyPair(pair);\n    }\n\n    static async fromKeyPair(pair: CryptoKeyPair) {\n        let publicKey = Buffer.from(await crypto.subtle.exportKey('raw', pair.publicKey));\n        let identity = Buffer.from(await crypto.subtle.digest('SHA-256', publicKey));\n        return new FullIdent(pair.privateKey, pair.publicKey, publicKey, identity);\n    }\n\n    static async import(raw: string) {\n        let json = JSON.parse(Buffer.from(raw, 'base64').toString('utf8'));\n        let [a, b] = await Promise.all([\n            crypto.subtle.importKey('jwk', json.public, key_params, true, ['verify']),\n            crypto.subtle.importKey('jwk', json.private, key_params, true, ['sign']),\n        ]);\n\n        return this.fromKeyPair({\n            publicKey: a,\n            privateKey: b,\n        });\n    }\n\n    private constructor(\n        private readonly privateKey: CryptoKey,\n        publicKeyData: CryptoKey,\n        publicKey: Buffer,\n        identity: Buffer,\n    ) {\n        super(publicKeyData, publicKey, identity);\n    }\n\n    async export() {\n        let [a, b] = await Promise.all([\n            crypto.subtle.exportKey('jwk', this.publicKeyData),\n            crypto.subtle.exportKey('jwk', this.privateKey),\n        ]);\n\n        let json = { public: a, private: b };\n        let data = Buffer.from(JSON.stringify(json));\n        return data.toString('base64');\n    }\n\n    async sign(data: Buffer | Uint8Array) {\n        return Buffer.from(await crypto.subtle.sign(sign_params, this.privateKey, data));\n    }\n\n    async endorse(data: Encoder) {\n        let endorsement = new Encoder();\n        endorsement.bytes(await this.sign(data.result));\n        endorsement.include(data);\n        return endorsement.result;\n    }\n}\n\nexport async function self() {\n    let key = localStorage.getItem(private_storage_key);\n    if (key == null) return null;\n\n    let self = await FullIdent.import(key);\n    return self;\n}\n\nexport function exists() {\n    let key = localStorage.getItem(private_storage_key);\n    return key != null;\n}\n\nasync function test() {\n    let self = await FullIdent.generate();\n    let server = await FullIdent.generate();\n\n    let request = new Encoder();\n    request.string(self.name);\n    request.string('associate');\n    request.string('email');\n    request.string('mfroehli@umich.edu');\n\n    let endorsement = await server.endorse(request);\n\n    let serverPub = await Ident.fromPublicKey(server.publicKey);\n\n    let check = await serverPub.validate(endorsement);\n    if (check == null) throw new Error('Invalid');\n\n    console.log('Endorsement:');\n    console.log(check.string());\n    console.log(check.string());\n    console.log(check.string());\n    console.log(check.string());\n}\n\nexport async function generate() {\n    let self = await FullIdent.generate();\n    localStorage.setItem(private_storage_key, await self.export());\n    return true;\n}\n","import pako from 'pako';\nimport { FullIdent, Ident, Encoder, Decoder, base62 } from 'web-ident';\nimport { event, pipe, Dialer, Sink, Source, Channel } from './common';\n\nconst config = {\n    iceServers: [\n        { urls: 'stun:stun.l.google.com:19302' },\n        { urls: 'stun:stun1.l.google.com:19302' },\n        { urls: 'stun:stun2.l.google.com:19302' },\n        { urls: 'stun:stun3.l.google.com:19302' },\n        { urls: 'stun:stun4.l.google.com:19302' },\n    ],\n};\n\nnamespace ConnectInfo {\n    export function pack(desc: RTCSessionDescriptionInit, candidates: RTCIceCandidate[]) {\n        let pack = new Encoder();\n        pack.string(desc.type);\n        pack.string(desc.sdp || \"\");\n        pack.uint(candidates.length);\n        for (let ice of candidates)\n            pack.string(ice.candidate);\n\n        let zip = Buffer.from(pako.deflate(pack.result, { level: 9 }));\n        return base62.encode(zip);\n    }\n\n    export function unpack(raw: string): [RTCSessionDescriptionInit, RTCIceCandidateInit[]] {\n        let zip = base62.decode(raw);\n        let pack = new Decoder(Buffer.from(pako.inflate(zip)));\n\n        let init = {\n            type: pack.string() as RTCSdpType,\n            sdp: pack.string() || undefined,\n        };\n\n        let candidates = [];\n        let count = pack.uint();\n        for (let i = 0; i < count; ++i) {\n            candidates.push({\n                candidate: pack.string(),\n                sdpMid: \"0\",\n                sdpMLineIndex: 0,\n            });\n        }\n\n        return [init, candidates];\n    }\n}\n\ninterface rtc {\n    message: event<{ type: string }>,\n    send(message: any): void;\n}\n\nasync function rtc(self: FullIdent, args: rtc.Args): Promise<rtc> {\n    let socket = new WebSocket(args.host + '/' + self.name, args.protcols);\n\n    let ready = event();\n    let message = event<{ type: string }>();\n\n    socket.addEventListener('open', e => {\n        ready.emit();\n        socket.send(self.publicKey);\n    });\n\n    socket.addEventListener('message', e => {\n        let msg = JSON.parse(e.data);\n        message.emit(msg);\n    });\n\n    await ready.event.next();\n\n    return {\n        message: message.event,\n        send(message) {\n            socket.send(JSON.stringify(message));\n        },\n    };\n}\n\nnamespace rtc {\n    export interface Args {\n        host: string,\n        protcols?: string[],\n    }\n\n    export function dialer(rtc: rtc): Dialer {\n        function makeChannel(base: RTCDataChannel): Channel {\n            return {\n                send: makeChannelSink(base),\n                receive: makeChannelSource(base),\n            };\n        }\n\n        async function prepareLocal(conn: RTCPeerConnection, local: RTCSessionDescriptionInit) {\n            let candidates: RTCIceCandidate[] = [];\n\n            await conn.setLocalDescription(local);\n            await new Promise((resolve, reject) => {\n                let listener = (e: RTCPeerConnectionIceEvent) => {\n                    if (e.candidate) {\n                        candidates.push(e.candidate);\n                    } else {\n                        conn.removeEventListener('icecandidate', listener);\n                        resolve();\n                    }\n                };\n\n                conn.addEventListener('icecandidate', listener);\n            });\n\n            return ConnectInfo.pack(local, candidates);\n        }\n\n        async function prepareRemote(conn: RTCPeerConnection, info: string) {\n            let [offer, candidates] = ConnectInfo.unpack(info);\n\n            await conn.setRemoteDescription(offer);\n            await Promise.all(candidates.map(ice => conn.addIceCandidate(ice)));\n        }\n\n        return {\n            async dial(target) {\n                let conn = new RTCPeerConnection(config);\n                let data = conn.createDataChannel('master', {\n                    id: 0,\n                    negotiated: true,\n                });\n\n                let local = await prepareLocal(conn, await conn.createOffer());\n                rtc.send({\n                    type: 'offer',\n                    name: target,\n                    info: local,\n                });\n\n                let remote = await rtc.message.until(msg => {\n                    if (msg.type != 'answer') return;\n                    let answer = msg as any as { name: string, info: string };\n                    if (answer.name != target) return;\n                    return answer.info;\n                });\n\n                await prepareRemote(conn, remote);\n\n                await event.wrap(data, 'open').next();\n\n                return makeChannel(data);\n            },\n\n            async accept() {\n                let conn = new RTCPeerConnection(config);\n                let data = conn.createDataChannel('master', {\n                    id: 0,\n                    negotiated: true,\n                });\n\n                let { name: target, info: remote } = await rtc.message.until(msg => {\n                    if (msg.type != 'offer') return;\n                    return msg as any as { name: string, info: string };\n                });\n\n                await prepareRemote(conn, remote);\n\n                let local = await prepareLocal(conn, await conn.createAnswer());\n                rtc.send({\n                    type: 'answer',\n                    name: target,\n                    info: local,\n                });\n\n                await event.wrap(data, 'open').next();\n\n                return {\n                    name: target,\n                    channel: makeChannel(data),\n                };\n            },\n        };\n    }\n}\n\nexport default rtc;\n\nfunction makeChannelSink(base: RTCDataChannel): Sink {\n    let complete = false;\n    let ready = event.wrap(base, 'bufferedamountlow') as event<Event>;\n\n    base.addEventListener('close', () => {\n        complete = true;\n    });\n\n    return async (block) => {\n        if (complete)\n            throw new Error('clogged sink');\n\n        if (block == null) {\n            complete = true;\n            base.close();\n        } else {\n            if (base.bufferedAmount > base.bufferedAmountLowThreshold)\n                await ready.next();\n            base.send(block);\n        }\n    };\n}\n\nfunction makeChannelSource(base: RTCDataChannel): Source {\n    let data = pipe<Buffer>();\n\n    base.addEventListener('close', e => data[0](null));\n    base.addEventListener('message', e => data[0](Buffer.from(e.data, 0)));\n\n    return data[1];\n}\n","export * from './types';\nimport event from './event';\nimport pipe from './pipe';\nexport { event, pipe };\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',[_c('v-container',{staticClass:\"d-flex justify-center\"},[_c('home')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',{staticClass:\"root\",on:{\"dragenter\":_vm.onDragEnter,\"dragleave\":_vm.onDragLeave,\"dragover\":_vm.onDragOver,\"drop\":_vm.onDrop}},[(_vm.state == 'none')?[_c('v-card-text',[_c('v-text-field',{ref:\"localName\",attrs:{\"readonly\":\"\",\"outlined\":\"\",\"value\":_vm.url,\"prepend-icon\":\"file_copy\"},on:{\"click:prepend\":function($event){return _vm.copy()}}}),_c('v-text-field',{attrs:{\"prepend-icon\":\"call\"},on:{\"click:prepend\":function($event){return _vm.connect()},\"keydown\":function($event){$event.keyCode == 13 && _vm.connect()}},model:{value:(_vm.connectInput),callback:function ($$v) {_vm.connectInput=$$v},expression:\"connectInput\"}})],1)]:_vm._e(),(_vm.state == 'connecting')?[_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.localName))]),_c('div',{staticClass:\"name\"},[_vm._v(_vm._s(_vm.remoteName))])]:(_vm.state == 'connected')?[_c('v-card-text',{staticClass:\"overlay d-flex align-center justify-center\",class:{ dragging: _vm.dragging }},[_c('v-icon',{attrs:{\"large\":\"\"}},[_vm._v(\"cloud_upload\")])],1),_c('v-card-text',[_c('div',{staticClass:\"text--primary\"},_vm._l((_vm.messages),function(msg,i){return _c('p',{key:i,staticClass:\"ma-0\",class:msg.class},[_vm._v(_vm._s(msg.text))])}),0),_c('v-text-field',{attrs:{\"hide-details\":\"\"},on:{\"keydown\":function($event){$event.keyCode == 13 && _vm.send()}},model:{value:(_vm.sendInput),callback:function ($$v) {_vm.sendInput=$$v},expression:\"sendInput\"}})],1)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <v-card\n    class=\"root\"\n    @dragenter=\"onDragEnter\"\n    @dragleave=\"onDragLeave\"\n    @dragover=\"onDragOver\"\n    @drop=\"onDrop\"\n  >\n    <template v-if=\"state == 'none'\">\n      <v-card-text>\n        <v-text-field\n          ref=\"localName\"\n          readonly\n          outlined\n          :value=\"url\"\n          prepend-icon=\"file_copy\"\n          @click:prepend=\"copy()\"\n        />\n\n        <v-text-field\n          prepend-icon=\"call\"\n          v-model=\"connectInput\"\n          @click:prepend=\"connect()\"\n          @keydown=\"$event.keyCode == 13 && connect()\"\n        />\n      </v-card-text>\n    </template>\n\n    <template v-if=\"state == 'connecting'\">\n      <div class=\"name\">{{ localName }}</div>\n      <div class=\"name\">{{ remoteName }}</div>\n    </template>\n\n    <template v-else-if=\"state == 'connected'\">\n      <v-card-text class=\"overlay d-flex align-center justify-center\" :class=\"{ dragging }\">\n        <v-icon large>cloud_upload</v-icon>\n      </v-card-text>\n      <v-card-text>\n        <div class=\"text--primary\">\n          <p class=\"ma-0\" v-for=\"(msg, i) in messages\" :key=\"i\" :class=\"msg.class\">{{ msg.text }}</p>\n        </div>\n\n        <v-text-field hide-details v-model=\"sendInput\" @keydown=\"$event.keyCode == 13 && send()\" />\n      </v-card-text>\n    </template>\n  </v-card>\n</template>\n\n<script>\nimport { FullIdent } from 'web-ident';\nimport { event } from '@/p2p/common';\nimport { secure, authenticate } from '@/p2p/secure';\nimport rtc from '@/p2p/rtc';\nimport app from '@/p2p/app';\n\nconst host = location.hostname == 'localhost' ? 'ws://localhost:8081' : 'wss://api.mfro.me/p2p';\n\nfunction delay(ms) {\n  return new Promise(resolve => setTimeout(resolve, ms));\n}\n\n\nexport default {\n  name: 'home',\n\n  data() {\n    let match = /id=([a-zA-Z0-9]+)/.exec(location.search);\n\n    return {\n      sendInput: '',\n      connectInput: match ? match[1] : '',\n      localName: '',\n      remoteName: '',\n      state: 'none',\n      dragging: false,\n      messages: [],\n    };\n  },\n\n  computed: {\n    url() {\n      return location.origin + location.pathname + '?id=' + this.localName;\n    },\n  },\n\n  async created() {\n    this.self = await FullIdent.generate();\n\n    let wrtc = await rtc(this.self, { host });\n    this.dialer = rtc.dialer(wrtc);\n\n    this.localName = this.self.name;\n\n    let incoming = await this.dialer.accept();\n    this.remoteName = incoming.name;\n    this.handle(incoming.name, incoming.channel, false);\n  },\n\n  methods: {\n    async connect() {\n      this.state = 'connecting';\n\n      let name = this.connectInput;\n      this.remoteName = name;\n\n      let channel = await this.dialer.dial(name);\n      this.handle(name, channel, true);\n    },\n\n    async handle(name, channel, initiator) {\n      channel = await secure(channel, initiator);\n      channel = await authenticate(channel, this.self, name);\n\n      this.state = 'connected';\n      this.app = app(channel);\n\n      (async () => {\n        while (true) {\n          let data = await this.app.chat.receive();\n          this.messages.push({\n            class: ['receive'],\n            text: data,\n          });\n        }\n      })();\n\n      (async () => {\n        while (true) {\n          let transfer = await this.app.files.receive();\n\n          let message = {\n            class: ['receive'],\n            text: `transferring ${transfer.name}`,\n          };\n          this.messages.push(message);\n\n          let start = performance.now();\n\n          transfer.update.listen(() => {\n            let now = performance.now();\n\n            let speed = transfer.progress / (now - start);\n            let remaining = (transfer.size - transfer.progress) / speed;\n\n            message.text = `transferring ${transfer.name}: ${transfer.progress}/${transfer.size} bytes\\n` +\n              `${(now - start).toFixed(0)} ms\\n` +\n              `${speed.toFixed(0)} KB/s\\n` +\n              `${remaining.toFixed(0)} ms`;\n          });\n          transfer.complete.listen((blob) => {\n            let now = performance.now();\n            message.text = `transferred ${transfer.name}: ${total} bytes, ${(now - start).toFixed(0)} ms`;\n\n            let dl = document.createElement('a');\n            dl.download = transfer.name;\n            dl.href = URL.createObjectURL(blob);\n            dl.click();\n          });\n        }\n      })();\n    },\n\n    copy() {\n      let ref = this.$refs.localName.$refs.input;\n\n      ref.select();\n      ref.setSelectionRange(0, this.url.length);\n\n      document.execCommand('copy');\n    },\n\n    send() {\n      let message = this.sendInput;\n      this.sendInput = '';\n      this.app.chat.send(message);\n      this.messages.push({\n        class: ['send'],\n        text: message,\n      });\n    },\n\n    onDragEnter() {\n      this.dragging = true;\n    },\n\n    onDragLeave() {\n      this.dragging = false;\n    },\n\n    onDragOver(e) {\n      this.dragging = true;\n      e.preventDefault();\n    },\n\n    onDragEnd() {\n      this.dragging = false;\n    },\n\n    onDrop(e) {\n      this.dragging = false;\n      e.preventDefault();\n      let file = e.dataTransfer.files[0];\n      let transfer = this.app.files.send(file.name, file);\n\n      let message = {\n        class: ['send'],\n        text: `transferring ${transfer.name}`,\n      };\n      this.messages.push(message);\n\n      let start = performance.now();\n\n      transfer.update.listen(() => {\n        let now = performance.now();\n\n        let speed = transfer.progress / (now - start);\n        let remaining = (transfer.size - transfer.progress) / speed;\n\n        message.text = `transferring ${transfer.name}: ${transfer.progress}/${transfer.size} bytes\\n` +\n          `${(now - start).toFixed(0)} ms\\n` +\n          `${speed.toFixed(0)} KB/s\\n` +\n          `${remaining.toFixed(0)} ms`;\n      });\n      transfer.complete.listen((blob) => {\n        let now = performance.now();\n        message.text = `transferred ${transfer.name}: ${total} bytes, ${(now - start).toFixed(0)} ms`;\n\n        let dl = document.createElement('a');\n        dl.download = transfer.name;\n        dl.href = URL.createObjectURL(blob);\n        dl.click();\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.root {\n  width: 80ch;\n  font-family: monospace;\n}\n\n.name {\n  font-family: monospace;\n  text-align: center;\n  padding: 8px 0;\n}\n\n.overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  background: white;\n  z-index: 1;\n  opacity: 0;\n  transition: opacity 150ms;\n  pointer-events: none;\n\n  &.dragging {\n    opacity: 1;\n    // pointer-events: initial;\n  }\n}\n\np {\n  margin: 0 0 1em 0;\n  font-family: monospace;\n\n  &.send {\n    text-align: right;\n  }\n\n  &.receive {\n    text-align: left;\n  }\n}\n\ninput {\n  width: 100%;\n  font-family: monospace;\n}\n</style>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Home.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Home.vue?vue&type=template&id=85866534&scoped=true&\"\nimport script from \"./Home.vue?vue&type=script&lang=js&\"\nexport * from \"./Home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Home.vue?vue&type=style&index=0&id=85866534&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"85866534\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <v-app>\n    <v-container class=\"d-flex justify-center\">\n      <home />\n    </v-container>\n  </v-app>\n</template>\n\n<script>\nimport Home from '@/views/Home';\n\nexport default {\n  name: 'app',\n\n  components: {\n    Home,\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n</style>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=08eb6360&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08eb6360\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue';\nimport Vuetify from 'vuetify';\nimport 'vuetify/dist/vuetify.min.css';\n\nVue.use(Vuetify);\n\nexport default new Vuetify({\n  icons: {\n    iconfont: 'md',\n  },\n});\n","import '@babel/polyfill'\n\nimport Vue from 'vue';\nimport App from './App.vue';\nimport vuetify from './plugins/vuetify';\n\n// import './test';\n// import './test-ipfs';\n// import './test-libp2p';\n\nVue.config.productionTip = false;\n\nnew Vue({\n  vuetify,\n  render: h => h(App)\n}).$mount('#app')\n","import { Channel, event, Source, Sink } from './common';\nimport { Encoder, Decoder } from 'web-ident';\n\nexport default app;\n\nenum Tags {\n    control = 0,\n    chat = 1,\n    file_header = 2,\n    file_data = 3,\n}\n\ninterface app {\n    chat: {\n        send: Sink<string>,\n        receive: Source<string>,\n    },\n    files: {\n        send(name: string, data: File | Blob): app.FileSend,\n        receive: Source<app.FileReceive>,\n    },\n}\n\nfunction app(channel: Channel): app {\n    let receive = event.from_source(channel.receive);\n\n    let file_id = 0;\n\n    return {\n        chat: {\n            async send(content) {\n                if (content == null) {\n                    await channel.send(null);\n                    return;\n                }\n\n                let msg = new Encoder();\n                msg.uint(Tags.chat);\n                msg.string(content);\n\n                await channel.send(msg.result);\n            },\n\n            async receive() {\n                while (true) {\n                    let block = await receive.next();\n                    if (block == null) return null;\n\n                    let msg = new Decoder(block);\n                    if (msg.uint() != Tags.chat) continue;\n\n                    return msg.string();\n                }\n            },\n        },\n        files: {\n            send(name, data) {\n                const blockSize = 10e3;\n\n                let id = file_id++;\n\n                let update = event();\n                let complete = event();\n                let result: app.FileSend = {\n                    update: update.event,\n                    complete: complete.event,\n                    name: name,\n                    size: data.size,\n                    progress: 0,\n                };\n\n                (async () => {\n                    let msg = new Encoder();\n                    msg.uint(Tags.file_header);\n                    msg.uint(id);\n                    msg.uint(data.size);\n                    msg.string(name);\n                    await channel.send(msg.result);\n\n                    let index = 0;\n                    while (index < data.size) {\n                        let size = Math.min(blockSize, data.size - index);\n                        let block = data.slice(index, index + size);\n                        index += size;\n\n                        let reader = new FileReader();\n                        reader.readAsArrayBuffer(block);\n                        await event.wrap(reader, 'load').next();\n\n                        let msg = new Encoder();\n                        msg.uint(Tags.file_data);\n                        msg.uint(id);\n                        msg.bytes(Buffer.from(reader.result as ArrayBuffer));\n                        await channel.send(msg.result);\n\n                        result.progress = index;\n                        update.emit();\n                    }\n\n                    complete.emit();\n                })();\n\n                return result;\n            },\n            async receive() {\n                while (true) {\n                    let block = await receive.next();\n                    if (block == null) return null;\n\n                    let msg = new Decoder(block);\n                    if (msg.uint() != Tags.file_header) continue;\n\n                    let id = msg.uint();\n                    let update = event();\n                    let complete = event<Blob>();\n                    let result: app.FileReceive = {\n                        update: update.event,\n                        complete: complete.event,\n                        size: msg.uint(),\n                        name: msg.string(),\n                        progress: 0,\n                    };\n\n                    let blobs: Blob[] = [];\n\n                    (async () => {\n                        let index = 0;\n\n                        while (index < result.size) {\n                            let block = await receive.next();\n                            if (block == null) return null;\n\n                            let msg = new Decoder(block);\n                            if (msg.uint() != Tags.file_data) continue;\n                            if (msg.uint() != id) continue;\n\n                            let data = msg.bytes();\n                            let blob = new Blob([data]);\n                            blobs.push(blob);\n                            index += data.length;\n\n                            result.progress = index;\n                            update.emit();\n                        }\n\n                        complete.emit(new Blob(blobs));\n                    })();\n\n                    return result;\n                }\n            },\n        },\n    }\n}\n\nnamespace app {\n    export interface FileTransfer {\n        update: event,\n        name: string,\n        size: number,\n        progress: number,\n    }\n\n    export interface FileSend extends FileTransfer {\n        complete: event,\n    }\n\n    export interface FileReceive extends FileTransfer {\n        complete: event<Blob>,\n    }\n}\n"],"sourceRoot":""}