(function(e){function t(t){for(var r,a,u=t[0],c=t[1],s=t[2],f=0,h=[];f<u.length;f++)a=u[f],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&h.push(i[a][0]),i[a]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(h.length)h.shift()();return o.push.apply(o,s||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,u=1;u<n.length;u++){var c=n[u];0!==i[c]&&(r=!1)}r&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},i={app:0},o=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var u=window["webpackJsonp"]=window["webpackJsonp"]||[],c=u.push.bind(u);u.push=t,u=u.slice();for(var s=0;s<u.length;s++)t(u[s]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"423a":function(e,t,n){},"88e6":function(e,t,n){"use strict";n("b8e8");var r=n("d83f");n.d(t,"event",(function(){return r["a"]}));n("92eb")},"92eb":function(e,t,n){"use strict";n("ac4d"),n("8a81"),n("ac6a")},b174:function(e,t,n){},b8e8:function(e,t){},cd49:function(e,t,n){"use strict";n.r(t);n("ac4d"),n("8a81"),n("ac6a"),n("96cf");var r=n("3b8d"),i=n("b0b4"),o=n("308d"),a=n("6bb5"),u=n("013f"),c=n("4e2b"),s=n("d225"),l=(n("cadf"),n("551c"),n("f751"),n("097d"),n("fc76")),f=n.n(l),h=function(){function e(t,n){Object(s["a"])(this,e),this.x=t,this.y=n}return Object(i["a"])(e,null,[{key:"add",value:function(t,n){return new e(t.x+n.x,t.y+n.y)}},{key:"scale",value:function(t,n){return new e(t.x*n,t.y*n)}},{key:"equals",value:function(e,t){return e.x==t.x&&e.y==t.y}}]),e}();h.zero=new h(0,0);var d,v=n("88e6"),p=n("2b0e"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"root"},[n("div",[n("div",[e.state.snake?n("div",{staticClass:"score"},[n("span",[e._v(e._s(e.state.snake.body.length))])]):e._e()]),n("canvas",{ref:"canvas",staticClass:"white"})])])},b=[],w=(n("7f7f"),{name:"snake",mounted:function(){this.initialize(this.$refs.canvas)},computed:{url:function(){return"".concat(location.href,"#").concat(this.state.name)}},methods:{copy:function(){var e=this.$refs.localName.$refs.input;e.select(),e.setSelectionRange(0,this.url.length),document.execCommand("copy")}}}),m=w,O=(n("daf1"),n("d6c4"),n("2877")),k=Object(O["a"])(m,y,b,!1,null,"51e681e8",null),j=k.exports,x=(location.hostname,new h(50,40));(function(e){e[e["UP"]=0]="UP",e[e["DOWN"]=1]="DOWN",e[e["LEFT"]=2]="LEFT",e[e["RIGHT"]=3]="RIGHT"})(d||(d={})),function(e){function t(t){if(t==e.UP)return e.DOWN;if(t==e.DOWN)return e.UP;if(t==e.LEFT)return e.RIGHT;if(t==e.RIGHT)return e.LEFT;throw new Error("?")}function n(t){if(t==e.UP)return new h(0,-1);if(t==e.DOWN)return new h(0,1);if(t==e.LEFT)return new h(-1,0);if(t==e.RIGHT)return new h(1,0);throw new Error("?")}e.opposite=t,e.toVec=n}(d||(d={}));var g=function e(t,n){Object(s["a"])(this,e),this.body=[],this.body=t.slice(),this.direction=n},P=function(e){function t(e,n){var r;return Object(s["a"])(this,t),r=Object(o["a"])(this,Object(a["a"])(t).call(this,e,n)),r.queue=[],r.handle=r.handle.bind(Object(u["a"])(r)),window.addEventListener("keydown",r.handle),r}return Object(c["a"])(t,e),Object(i["a"])(t,[{key:"destroy",value:function(){window.removeEventListener("keydown",this.handle)}},{key:"handle",value:function(e){37==e.keyCode&&this.queue.push(d.LEFT),38==e.keyCode&&this.queue.push(d.UP),39==e.keyCode&&this.queue.push(d.RIGHT),40==e.keyCode&&this.queue.push(d.DOWN)}},{key:"input",value:function(){while(this.queue.length>0){var e=this.queue.shift();if(d.opposite(e)!=this.direction){this.direction=e;break}}return this.direction}}]),t}(g),_=function(){function e(t,n,r,i){Object(s["a"])(this,e),this.canvas=t,this.size=n,this.rand=r,this.local=i,this.counter=0,this.complete=Object(v["event"])(),this.food=h.zero,this.make_food()}return Object(i["a"])(e,[{key:"make_food",value:function(){while(1){var e=this.rand.uint32()%this.size.x,t=this.rand.uint32()%this.size.y,n=new h(e,t);if(!this.hit_test(n)){this.food=n;break}}}},{key:"hit_test",value:function(e){for(var t=0;t<this.local.body.length;++t)if(h.equals(this.local.body[t],e))return[this.local,t];return null}},{key:"play",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.render(),e.next=3,this.complete.event.next();case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroy",value:function(){this.counter=-1}},{key:"render",value:function(){var e=this;if(!(this.counter<0)){if(this.counter%2==0)++this.counter;else{++this.counter;var t=this.local.input();this.local.direction=t;var n=!1,r=!1,i=d.toVec(this.local.direction),o=h.add(this.local.body[0],i);if(h.equals(o,this.food)?n=!0:this.local.body.pop(),r=r||null!=this.hit_test(o)||o.x<0||o.x>=this.size.x||o.y<0||o.y>=this.size.y,i=d.toVec(this.local.direction),o=h.add(this.local.body[0],i),this.local.body.unshift(o),r)return void this.complete.emit();n&&this.make_food();var a=function(t){e.canvas.fillStyle="black",e.canvas.fillRect(10*t.x,10*t.y,9,9)};this.canvas.clearRect(0,0,10*this.size.x,10*this.size.y),a(this.food);var u=!0,c=!1,s=void 0;try{for(var l,f=this.local.body[Symbol.iterator]();!(u=(l=f.next()).done);u=!0){var v=l.value;a(v)}}catch(p){c=!0,s=p}finally{try{u||null==f.return||f.return()}finally{if(c)throw s}}}requestAnimationFrame((function(){return e.render()}))}}}]),e}(),E={snake:null};function T(e){var t=f()(),n=null;function r(){var r=new P([new h(5,5),new h(4,5),new h(3,5),new h(2,5),new h(1,5)],d.RIGHT);n=new _(e,x,t,r),n.play(),E.snake=r}window.addEventListener("keydown",(function(e){82==e.keyCode&&(n.local.destroy(),n.destroy(),r())})),r()}function R(e){var t=e.getContext("2d");e.width=10*x.x-1,e.height=10*x.y-1,e.style.width=e.width+"px",e.style.height=e.height+"px",T(t)}p["a"].config.productionTip=!1;var S=new p["a"]({mixins:[j],data:{state:E},methods:{initialize:function(e){R(e)}}});S.$mount("#app")},d6c4:function(e,t,n){"use strict";var r=n("b174"),i=n.n(r);i.a},d83f:function(e,t,n){"use strict";n("8e6e"),n("456d"),n("96cf");var r=n("3b8d"),i=n("bd86");n("ac4d"),n("8a81"),n("ac6a"),n("5df3"),n("4f7f");function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){Object(i["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(){var e=new Set;return{event:u.make({listen:function(t){return e.add(t),function(){return e.delete(t)}}}),emit:function(t){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var u=o.value;u(t)}}catch(c){r=!0,i=c}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}}}}t["a"]=u,function(e){function t(e){return a({},e,{next:function(){var e=this;return new Promise((function(t){var n=e.listen((function(e){n(),t(e)}))}))},until:function(e){var t=this;return new Promise((function(n){var i=t.listen(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(r){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e(r);case 2:o=t.sent,void 0!==o&&(i(),n(o));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}))}})}function n(e){return e}function i(t,n){var r=t,i=r.on||r.addEventListener,o=r.off||r.removeEventListener;return e.make({listen:function(e){return i.apply(r,[n,e]),function(){return o.apply(r,[n,e])}}})}function o(t){var n=e();return t.attach((function(e){n.emit(e)})),n.event}e.make=t,e.emitter=n,e.wrap=i,e.from_source=o}(u||(u={}))},daf1:function(e,t,n){"use strict";var r=n("423a"),i=n.n(r);i.a}});
//# sourceMappingURL=app.7fddac2c.js.map